function Lf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Df(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var $c={exports:{}},vi={},Ac={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),Wf=Symbol.for("react.context"),Vf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),Kf=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),Wa=Symbol.iterator;function Gf(t){return t===null||typeof t!="object"?null:(t=Wa&&t[Wa]||t["@@iterator"],typeof t=="function"?t:null)}var Ic={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lc=Object.assign,Dc={};function qn(t,e,n){this.props=t,this.context=e,this.refs=Dc,this.updater=n||Ic}qn.prototype.isReactComponent={};qn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uc(){}Uc.prototype=qn.prototype;function Fl(t,e,n){this.props=t,this.context=e,this.refs=Dc,this.updater=n||Ic}var Bl=Fl.prototype=new Uc;Bl.constructor=Fl;Lc(Bl,qn.prototype);Bl.isPureReactComponent=!0;var Va=Array.isArray,Mc=Object.prototype.hasOwnProperty,Wl={current:null},zc={key:!0,ref:!0,__self:!0,__source:!0};function Fc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Mc.call(e,r)&&!zc.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Qr,type:t,key:i,ref:o,props:s,_owner:Wl.current}}function Qf(t,e){return{$$typeof:Qr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qr}function Jf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ha=/\/+/g;function Ki(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jf(""+t.key):e.toString(36)}function Ts(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qr:case Uf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ki(o,0):r,Va(s)?(n="",t!=null&&(n=t.replace(Ha,"$&/")+"/"),Ts(s,e,n,"",function(c){return c})):s!=null&&(Vl(s)&&(s=Qf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ha,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Va(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Ki(i,l);o+=Ts(i,e,n,a,s)}else if(a=Gf(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Ki(i,l++),o+=Ts(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ls(t,e,n){if(t==null)return t;var r=[],s=0;return Ts(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Yf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ge={current:null},Ps={transition:null},Xf={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:Wl};function Bc(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:ls,forEach:function(t,e,n){ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ls(t,function(){e++}),e},toArray:function(t){return ls(t,function(e){return e})||[]},only:function(t){if(!Vl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};I.Component=qn;I.Fragment=Mf;I.Profiler=Ff;I.PureComponent=Fl;I.StrictMode=zf;I.Suspense=Hf;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xf;I.act=Bc;I.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Mc.call(e,a)&&!zc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Qr,type:t.type,key:s,ref:i,props:r,_owner:o}};I.createContext=function(t){return t={$$typeof:Wf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bf,_context:t},t.Consumer=t};I.createElement=Fc;I.createFactory=function(t){var e=Fc.bind(null,t);return e.type=t,e};I.createRef=function(){return{current:null}};I.forwardRef=function(t){return{$$typeof:Vf,render:t}};I.isValidElement=Vl;I.lazy=function(t){return{$$typeof:qf,_payload:{_status:-1,_result:t},_init:Yf}};I.memo=function(t,e){return{$$typeof:Kf,type:t,compare:e===void 0?null:e}};I.startTransition=function(t){var e=Ps.transition;Ps.transition={};try{t()}finally{Ps.transition=e}};I.unstable_act=Bc;I.useCallback=function(t,e){return ge.current.useCallback(t,e)};I.useContext=function(t){return ge.current.useContext(t)};I.useDebugValue=function(){};I.useDeferredValue=function(t){return ge.current.useDeferredValue(t)};I.useEffect=function(t,e){return ge.current.useEffect(t,e)};I.useId=function(){return ge.current.useId()};I.useImperativeHandle=function(t,e,n){return ge.current.useImperativeHandle(t,e,n)};I.useInsertionEffect=function(t,e){return ge.current.useInsertionEffect(t,e)};I.useLayoutEffect=function(t,e){return ge.current.useLayoutEffect(t,e)};I.useMemo=function(t,e){return ge.current.useMemo(t,e)};I.useReducer=function(t,e,n){return ge.current.useReducer(t,e,n)};I.useRef=function(t){return ge.current.useRef(t)};I.useState=function(t){return ge.current.useState(t)};I.useSyncExternalStore=function(t,e,n){return ge.current.useSyncExternalStore(t,e,n)};I.useTransition=function(){return ge.current.useTransition()};I.version="18.3.1";Ac.exports=I;var b=Ac.exports;const xe=Oc(b),Zf=Lf({__proto__:null,default:xe},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=b,tp=Symbol.for("react.element"),np=Symbol.for("react.fragment"),rp=Object.prototype.hasOwnProperty,sp=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ip={key:!0,ref:!0,__self:!0,__source:!0};function Wc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rp.call(e,r)&&!ip.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:tp,type:t,key:i,ref:o,props:s,_owner:sp.current}}vi.Fragment=np;vi.jsx=Wc;vi.jsxs=Wc;$c.exports=vi;var u=$c.exports,Oo={},Vc={exports:{}},Pe={},Hc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,O){var $=T.length;T.push(O);e:for(;0<$;){var Q=$-1>>>1,re=T[Q];if(0<s(re,O))T[Q]=O,T[$]=re,$=Q;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var O=T[0],$=T.pop();if($!==O){T[0]=$;e:for(var Q=0,re=T.length,is=re>>>1;Q<is;){var Mt=2*(Q+1)-1,Hi=T[Mt],zt=Mt+1,os=T[zt];if(0>s(Hi,$))zt<re&&0>s(os,Hi)?(T[Q]=os,T[zt]=$,Q=zt):(T[Q]=Hi,T[Mt]=$,Q=Mt);else if(zt<re&&0>s(os,$))T[Q]=os,T[zt]=$,Q=zt;else break e}}return O}function s(T,O){var $=T.sortIndex-O.sortIndex;return $!==0?$:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,p=3,v=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=T)r(c),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(c)}}function x(T){if(w=!1,f(T),!y)if(n(a)!==null)y=!0,Wi(k);else{var O=n(c);O!==null&&Vi(x,O.startTime-T)}}function k(T,O){y=!1,w&&(w=!1,g(P),P=-1),v=!0;var $=p;try{for(f(O),h=n(a);h!==null&&(!(h.expirationTime>O)||T&&!Z());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var re=Q(h.expirationTime<=O);O=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(a)&&r(a),f(O)}else r(a);h=n(a)}if(h!==null)var is=!0;else{var Mt=n(c);Mt!==null&&Vi(x,Mt.startTime-O),is=!1}return is}finally{h=null,p=$,v=!1}}var j=!1,E=null,P=-1,W=5,N=-1;function Z(){return!(t.unstable_now()-N<W)}function Oe(){if(E!==null){var T=t.unstable_now();N=T;var O=!0;try{O=E(!0,T)}finally{O?Zn():(j=!1,E=null)}}else j=!1}var Zn;if(typeof m=="function")Zn=function(){m(Oe)};else if(typeof MessageChannel<"u"){var Ba=new MessageChannel,If=Ba.port2;Ba.port1.onmessage=Oe,Zn=function(){If.postMessage(null)}}else Zn=function(){_(Oe,0)};function Wi(T){E=T,j||(j=!0,Zn())}function Vi(T,O){P=_(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Wi(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var $=p;p=O;try{return T()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return O()}finally{p=$}},t.unstable_scheduleCallback=function(T,O,$){var Q=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,T){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,T={id:d++,callback:O,priorityLevel:T,startTime:$,expirationTime:re,sortIndex:-1},$>Q?(T.sortIndex=$,e(c,T),n(a)===null&&T===n(c)&&(w?(g(P),P=-1):w=!0,Vi(x,$-Q))):(T.sortIndex=re,e(a,T),y||v||(y=!0,Wi(k))),T},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(T){var O=p;return function(){var $=p;p=O;try{return T.apply(this,arguments)}finally{p=$}}}})(Kc);Hc.exports=Kc;var op=Hc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=b,Te=op;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qc=new Set,Nr={};function on(t,e){Un(t,e),Un(t+"Capture",e)}function Un(t,e){for(Nr[t]=e,t=0;t<e.length;t++)qc.add(e[t])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=Object.prototype.hasOwnProperty,ap=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ka={},qa={};function up(t){return $o.call(qa,t)?!0:$o.call(Ka,t)?!1:ap.test(t)?qa[t]=!0:(Ka[t]=!0,!1)}function cp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dp(t,e,n,r){if(e===null||typeof e>"u"||cp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ve(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hl=/[\-:]([a-z])/g;function Kl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hl,Kl);ue[e]=new ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hl,Kl);ue[e]=new ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hl,Kl);ue[e]=new ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new ve(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function ql(t,e,n,r){var s=ue.hasOwnProperty(e)?ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dp(e,n,s,r)&&(n=null),r||s===null?up(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ht=lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),wn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),Gl=Symbol.for("react.strict_mode"),Ao=Symbol.for("react.profiler"),Gc=Symbol.for("react.provider"),Qc=Symbol.for("react.context"),Ql=Symbol.for("react.forward_ref"),Io=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Jl=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Jc=Symbol.for("react.offscreen"),Ga=Symbol.iterator;function er(t){return t===null||typeof t!="object"?null:(t=Ga&&t[Ga]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,qi;function ur(t){if(qi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qi=e&&e[1]||""}return`
`+qi+t}var Gi=!1;function Qi(t,e){if(!t||Gi)return"";Gi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Gi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ur(t):""}function hp(t){switch(t.tag){case 5:return ur(t.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 2:case 15:return t=Qi(t.type,!1),t;case 11:return t=Qi(t.type.render,!1),t;case 1:return t=Qi(t.type,!0),t;default:return""}}function Do(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _n:return"Fragment";case wn:return"Portal";case Ao:return"Profiler";case Gl:return"StrictMode";case Io:return"Suspense";case Lo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qc:return(t.displayName||"Context")+".Consumer";case Gc:return(t._context.displayName||"Context")+".Provider";case Ql:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jl:return e=t.displayName||null,e!==null?e:Do(t.type)||"Memo";case gt:e=t._payload,t=t._init;try{return Do(t(e))}catch{}}return null}function fp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Do(e);case 8:return e===Gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $t(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pp(t){var e=Yc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function us(t){t._valueTracker||(t._valueTracker=pp(t))}function Xc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uo(t,e){var n=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$t(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zc(t,e){e=e.checked,e!=null&&ql(t,"checked",e,!1)}function Mo(t,e){Zc(t,e);var n=$t(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zo(t,e.type,n):e.hasOwnProperty("defaultValue")&&zo(t,e.type,$t(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ja(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zo(t,e,n){(e!=="number"||Fs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cr=Array.isArray;function On(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$t(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ya(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(cr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$t(n)}}function ed(t,e){var n=$t(e.value),r=$t(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function td(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?td(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cs,nd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mp=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(t){mp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pr[e]=pr[t]})});function rd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pr.hasOwnProperty(t)&&pr[t]?(""+e).trim():e+"px"}function sd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var gp=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wo(t,e){if(e){if(gp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Vo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=null;function Yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ko=null,$n=null,An=null;function Za(t){if(t=Xr(t)){if(typeof Ko!="function")throw Error(S(280));var e=t.stateNode;e&&(e=ki(e),Ko(t.stateNode,t.type,e))}}function id(t){$n?An?An.push(t):An=[t]:$n=t}function od(){if($n){var t=$n,e=An;if(An=$n=null,Za(t),e)for(t=0;t<e.length;t++)Za(e[t])}}function ld(t,e){return t(e)}function ad(){}var Ji=!1;function ud(t,e,n){if(Ji)return t(e,n);Ji=!0;try{return ld(t,e,n)}finally{Ji=!1,($n!==null||An!==null)&&(ad(),od())}}function Tr(t,e){var n=t.stateNode;if(n===null)return null;var r=ki(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var qo=!1;if(at)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){qo=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{qo=!1}function vp(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var mr=!1,Bs=null,Ws=!1,Go=null,yp={onError:function(t){mr=!0,Bs=t}};function xp(t,e,n,r,s,i,o,l,a){mr=!1,Bs=null,vp.apply(yp,arguments)}function wp(t,e,n,r,s,i,o,l,a){if(xp.apply(this,arguments),mr){if(mr){var c=Bs;mr=!1,Bs=null}else throw Error(S(198));Ws||(Ws=!0,Go=c)}}function ln(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eu(t){if(ln(t)!==t)throw Error(S(188))}function _p(t){var e=t.alternate;if(!e){if(e=ln(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return eu(s),t;if(i===r)return eu(s),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function dd(t){return t=_p(t),t!==null?hd(t):null}function hd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hd(t);if(e!==null)return e;t=t.sibling}return null}var fd=Te.unstable_scheduleCallback,tu=Te.unstable_cancelCallback,kp=Te.unstable_shouldYield,Sp=Te.unstable_requestPaint,J=Te.unstable_now,jp=Te.unstable_getCurrentPriorityLevel,Xl=Te.unstable_ImmediatePriority,pd=Te.unstable_UserBlockingPriority,Vs=Te.unstable_NormalPriority,Ep=Te.unstable_LowPriority,md=Te.unstable_IdlePriority,yi=null,Xe=null;function bp(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:Tp,Np=Math.log,Cp=Math.LN2;function Tp(t){return t>>>=0,t===0?32:31-(Np(t)/Cp|0)|0}var ds=64,hs=4194304;function dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=dr(l):(i&=o,i!==0&&(r=dr(i)))}else o=n&~s,o!==0?r=dr(o):i!==0&&(r=dr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ke(e),s=1<<n,r|=t[n],e&=~s;return r}function Pp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ke(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Pp(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Qo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gd(){var t=ds;return ds<<=1,!(ds&4194240)&&(ds=64),t}function Yi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ke(e),t[e]=n}function Op(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ke(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ke(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var U=0;function vd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yd,ea,xd,wd,_d,Jo=!1,fs=[],jt=null,Et=null,bt=null,Pr=new Map,Rr=new Map,yt=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":Pr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(e.pointerId)}}function nr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xr(e),e!==null&&ea(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ap(t,e,n,r,s){switch(e){case"focusin":return jt=nr(jt,t,e,n,r,s),!0;case"dragenter":return Et=nr(Et,t,e,n,r,s),!0;case"mouseover":return bt=nr(bt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pr.set(i,nr(Pr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rr.set(i,nr(Rr.get(i)||null,t,e,n,r,s)),!0}return!1}function kd(t){var e=Gt(t.target);if(e!==null){var n=ln(e);if(n!==null){if(e=n.tag,e===13){if(e=cd(n),e!==null){t.blockedOn=e,_d(t.priority,function(){xd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ho=r,n.target.dispatchEvent(r),Ho=null}else return e=Xr(n),e!==null&&ea(e),t.blockedOn=n,!1;e.shift()}return!0}function ru(t,e,n){Rs(t)&&n.delete(e)}function Ip(){Jo=!1,jt!==null&&Rs(jt)&&(jt=null),Et!==null&&Rs(Et)&&(Et=null),bt!==null&&Rs(bt)&&(bt=null),Pr.forEach(ru),Rr.forEach(ru)}function rr(t,e){t.blockedOn===e&&(t.blockedOn=null,Jo||(Jo=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,Ip)))}function Or(t){function e(s){return rr(s,t)}if(0<fs.length){rr(fs[0],t);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&rr(jt,t),Et!==null&&rr(Et,t),bt!==null&&rr(bt,t),Pr.forEach(e),Rr.forEach(e),n=0;n<yt.length;n++)r=yt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yt.length&&(n=yt[0],n.blockedOn===null);)kd(n),n.blockedOn===null&&yt.shift()}var In=ht.ReactCurrentBatchConfig,Ks=!0;function Lp(t,e,n,r){var s=U,i=In.transition;In.transition=null;try{U=1,ta(t,e,n,r)}finally{U=s,In.transition=i}}function Dp(t,e,n,r){var s=U,i=In.transition;In.transition=null;try{U=4,ta(t,e,n,r)}finally{U=s,In.transition=i}}function ta(t,e,n,r){if(Ks){var s=Yo(t,e,n,r);if(s===null)lo(t,e,r,qs,n),nu(t,r);else if(Ap(s,t,e,n,r))r.stopPropagation();else if(nu(t,r),e&4&&-1<$p.indexOf(t)){for(;s!==null;){var i=Xr(s);if(i!==null&&yd(i),i=Yo(t,e,n,r),i===null&&lo(t,e,r,qs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lo(t,e,r,null,n)}}var qs=null;function Yo(t,e,n,r){if(qs=null,t=Yl(r),t=Gt(t),t!==null)if(e=ln(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qs=t,null}function Sd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jp()){case Xl:return 1;case pd:return 4;case Vs:case Ep:return 16;case md:return 536870912;default:return 16}default:return 16}}var _t=null,na=null,Os=null;function jd(){if(Os)return Os;var t,e=na,n=e.length,r,s="value"in _t?_t.value:_t.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Os=s.slice(t,1<r?1-r:void 0)}function $s(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function su(){return!1}function Re(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ps:su,this.isPropagationStopped=su,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),e}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Re(Gn),Yr=q({},Gn,{view:0,detail:0}),Up=Re(Yr),Xi,Zi,sr,xi=q({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(Xi=t.screenX-sr.screenX,Zi=t.screenY-sr.screenY):Zi=Xi=0,sr=t),Xi)},movementY:function(t){return"movementY"in t?t.movementY:Zi}}),iu=Re(xi),Mp=q({},xi,{dataTransfer:0}),zp=Re(Mp),Fp=q({},Yr,{relatedTarget:0}),eo=Re(Fp),Bp=q({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wp=Re(Bp),Vp=q({},Gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hp=Re(Vp),Kp=q({},Gn,{data:0}),ou=Re(Kp),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qp[t])?!!e[t]:!1}function sa(){return Jp}var Yp=q({},Yr,{key:function(t){if(t.key){var e=qp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xp=Re(Yp),Zp=q({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=Re(Zp),em=q({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),tm=Re(em),nm=q({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=Re(nm),sm=q({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),im=Re(sm),om=[9,13,27,32],ia=at&&"CompositionEvent"in window,gr=null;at&&"documentMode"in document&&(gr=document.documentMode);var lm=at&&"TextEvent"in window&&!gr,Ed=at&&(!ia||gr&&8<gr&&11>=gr),au=" ",uu=!1;function bd(t,e){switch(t){case"keyup":return om.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function am(t,e){switch(t){case"compositionend":return Nd(e);case"keypress":return e.which!==32?null:(uu=!0,au);case"textInput":return t=e.data,t===au&&uu?null:t;default:return null}}function um(t,e){if(kn)return t==="compositionend"||!ia&&bd(t,e)?(t=jd(),Os=na=_t=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ed&&e.locale!=="ko"?null:e.data;default:return null}}var cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cm[t.type]:e==="textarea"}function Cd(t,e,n,r){id(r),e=Gs(e,"onChange"),0<e.length&&(n=new ra("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vr=null,$r=null;function dm(t){Md(t,0)}function wi(t){var e=En(t);if(Xc(e))return t}function hm(t,e){if(t==="change")return e}var Td=!1;if(at){var to;if(at){var no="oninput"in document;if(!no){var du=document.createElement("div");du.setAttribute("oninput","return;"),no=typeof du.oninput=="function"}to=no}else to=!1;Td=to&&(!document.documentMode||9<document.documentMode)}function hu(){vr&&(vr.detachEvent("onpropertychange",Pd),$r=vr=null)}function Pd(t){if(t.propertyName==="value"&&wi($r)){var e=[];Cd(e,$r,t,Yl(t)),ud(dm,e)}}function fm(t,e,n){t==="focusin"?(hu(),vr=e,$r=n,vr.attachEvent("onpropertychange",Pd)):t==="focusout"&&hu()}function pm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wi($r)}function mm(t,e){if(t==="click")return wi(e)}function gm(t,e){if(t==="input"||t==="change")return wi(e)}function vm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:vm;function Ar(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$o.call(e,s)||!Ge(t[s],e[s]))return!1}return!0}function fu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pu(t,e){var n=fu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fu(n)}}function Rd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Od(){for(var t=window,e=Fs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fs(t.document)}return e}function oa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ym(t){var e=Od(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rd(n.ownerDocument.documentElement,n)){if(r!==null&&oa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=pu(n,i);var o=pu(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xm=at&&"documentMode"in document&&11>=document.documentMode,Sn=null,Xo=null,yr=null,Zo=!1;function mu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zo||Sn==null||Sn!==Fs(r)||(r=Sn,"selectionStart"in r&&oa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&Ar(yr,r)||(yr=r,r=Gs(Xo,"onSelect"),0<r.length&&(e=new ra("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sn)))}function ms(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jn={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},ro={},$d={};at&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function _i(t){if(ro[t])return ro[t];if(!jn[t])return t;var e=jn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $d)return ro[t]=e[n];return t}var Ad=_i("animationend"),Id=_i("animationiteration"),Ld=_i("animationstart"),Dd=_i("transitionend"),Ud=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function It(t,e){Ud.set(t,e),on(e,[t])}for(var so=0;so<gu.length;so++){var io=gu[so],wm=io.toLowerCase(),_m=io[0].toUpperCase()+io.slice(1);It(wm,"on"+_m)}It(Ad,"onAnimationEnd");It(Id,"onAnimationIteration");It(Ld,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(Dd,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));on("onBeforeInput",["compositionend","keypress","textInput","paste"]);on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),km=new Set("cancel close invalid load scroll toggle".split(" ").concat(hr));function vu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wp(r,e,void 0,t),t.currentTarget=null}function Md(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;vu(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;vu(s,l,c),i=a}}}if(Ws)throw t=Go,Ws=!1,Go=null,t}function F(t,e){var n=e[sl];n===void 0&&(n=e[sl]=new Set);var r=t+"__bubble";n.has(r)||(zd(e,t,2,!1),n.add(r))}function oo(t,e,n){var r=0;e&&(r|=4),zd(n,t,r,e)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Ir(t){if(!t[gs]){t[gs]=!0,qc.forEach(function(n){n!=="selectionchange"&&(km.has(n)||oo(n,!1,t),oo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gs]||(e[gs]=!0,oo("selectionchange",!1,e))}}function zd(t,e,n,r){switch(Sd(e)){case 1:var s=Lp;break;case 4:s=Dp;break;default:s=ta}n=s.bind(null,e,n,t),s=void 0,!qo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function lo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Gt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}ud(function(){var c=i,d=Yl(n),h=[];e:{var p=Ud.get(t);if(p!==void 0){var v=ra,y=t;switch(t){case"keypress":if($s(n)===0)break e;case"keydown":case"keyup":v=Xp;break;case"focusin":y="focus",v=eo;break;case"focusout":y="blur",v=eo;break;case"beforeblur":case"afterblur":v=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tm;break;case Ad:case Id:case Ld:v=Wp;break;case Dd:v=rm;break;case"scroll":v=Up;break;case"wheel":v=im;break;case"copy":case"cut":case"paste":v=Hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=lu}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var m=c,f;m!==null;){f=m;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,g!==null&&(x=Tr(m,g),x!=null&&w.push(Lr(m,x,f)))),_)break;m=m.return}0<w.length&&(p=new v(p,y,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Ho&&(y=n.relatedTarget||n.fromElement)&&(Gt(y)||y[ut]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Gt(y):null,y!==null&&(_=ln(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=iu,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=lu,x="onPointerLeave",g="onPointerEnter",m="pointer"),_=v==null?p:En(v),f=y==null?p:En(y),p=new w(x,m+"leave",v,n,d),p.target=_,p.relatedTarget=f,x=null,Gt(d)===c&&(w=new w(g,m+"enter",y,n,d),w.target=f,w.relatedTarget=_,x=w),_=x,v&&y)t:{for(w=v,g=y,m=0,f=w;f;f=dn(f))m++;for(f=0,x=g;x;x=dn(x))f++;for(;0<m-f;)w=dn(w),m--;for(;0<f-m;)g=dn(g),f--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=dn(w),g=dn(g)}w=null}else w=null;v!==null&&yu(h,p,v,w,!1),y!==null&&_!==null&&yu(h,_,y,w,!0)}}e:{if(p=c?En(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=hm;else if(cu(p))if(Td)k=gm;else{k=pm;var j=fm}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=mm);if(k&&(k=k(t,c))){Cd(h,k,n,d);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&zo(p,"number",p.value)}switch(j=c?En(c):window,t){case"focusin":(cu(j)||j.contentEditable==="true")&&(Sn=j,Xo=c,yr=null);break;case"focusout":yr=Xo=Sn=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":Zo=!1,mu(h,n,d);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":mu(h,n,d)}var E;if(ia)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else kn?bd(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Ed&&n.locale!=="ko"&&(kn||P!=="onCompositionStart"?P==="onCompositionEnd"&&kn&&(E=jd()):(_t=d,na="value"in _t?_t.value:_t.textContent,kn=!0)),j=Gs(c,P),0<j.length&&(P=new ou(P,t,null,n,d),h.push({event:P,listeners:j}),E?P.data=E:(E=Nd(n),E!==null&&(P.data=E)))),(E=lm?am(t,n):um(t,n))&&(c=Gs(c,"onBeforeInput"),0<c.length&&(d=new ou("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}Md(h,e)})}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tr(t,n),i!=null&&r.unshift(Lr(t,i,s)),i=Tr(t,e),i!=null&&r.push(Lr(t,i,s))),t=t.return}return r}function dn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Tr(n,i),a!=null&&o.unshift(Lr(n,a,l))):s||(a=Tr(n,i),a!=null&&o.push(Lr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Sm=/\r\n?/g,jm=/\u0000|\uFFFD/g;function xu(t){return(typeof t=="string"?t:""+t).replace(Sm,`
`).replace(jm,"")}function vs(t,e,n){if(e=xu(e),xu(t)!==e&&n)throw Error(S(425))}function Qs(){}var el=null,tl=null;function nl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rl=typeof setTimeout=="function"?setTimeout:void 0,Em=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,bm=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(t){return wu.resolve(null).then(t).catch(Nm)}:rl;function Nm(t){setTimeout(function(){throw t})}function ao(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Or(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Or(e)}function Nt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _u(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Qn,Dr="__reactProps$"+Qn,ut="__reactContainer$"+Qn,sl="__reactEvents$"+Qn,Cm="__reactListeners$"+Qn,Tm="__reactHandles$"+Qn;function Gt(t){var e=t[Ye];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ut]||n[Ye]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_u(t);t!==null;){if(n=t[Ye])return n;t=_u(t)}return e}t=n,n=t.parentNode}return null}function Xr(t){return t=t[Ye]||t[ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function En(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function ki(t){return t[Dr]||null}var il=[],bn=-1;function Lt(t){return{current:t}}function B(t){0>bn||(t.current=il[bn],il[bn]=null,bn--)}function z(t,e){bn++,il[bn]=t.current,t.current=e}var At={},fe=Lt(At),Se=Lt(!1),Zt=At;function Mn(t,e){var n=t.type.contextTypes;if(!n)return At;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function je(t){return t=t.childContextTypes,t!=null}function Js(){B(Se),B(fe)}function ku(t,e,n){if(fe.current!==At)throw Error(S(168));z(fe,e),z(Se,n)}function Fd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(S(108,fp(t)||"Unknown",s));return q({},n,r)}function Ys(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||At,Zt=fe.current,z(fe,t),z(Se,Se.current),!0}function Su(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Fd(t,e,Zt),r.__reactInternalMemoizedMergedChildContext=t,B(Se),B(fe),z(fe,t)):B(Se),z(Se,n)}var st=null,Si=!1,uo=!1;function Bd(t){st===null?st=[t]:st.push(t)}function Pm(t){Si=!0,Bd(t)}function Dt(){if(!uo&&st!==null){uo=!0;var t=0,e=U;try{var n=st;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}st=null,Si=!1}catch(s){throw st!==null&&(st=st.slice(t+1)),fd(Xl,Dt),s}finally{U=e,uo=!1}}return null}var Nn=[],Cn=0,Xs=null,Zs=0,$e=[],Ae=0,en=null,it=1,ot="";function Vt(t,e){Nn[Cn++]=Zs,Nn[Cn++]=Xs,Xs=t,Zs=e}function Wd(t,e,n){$e[Ae++]=it,$e[Ae++]=ot,$e[Ae++]=en,en=t;var r=it;t=ot;var s=32-Ke(r)-1;r&=~(1<<s),n+=1;var i=32-Ke(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,it=1<<32-Ke(e)+s|n<<s|r,ot=i+t}else it=1<<i|n<<s|r,ot=t}function la(t){t.return!==null&&(Vt(t,1),Wd(t,1,0))}function aa(t){for(;t===Xs;)Xs=Nn[--Cn],Nn[Cn]=null,Zs=Nn[--Cn],Nn[Cn]=null;for(;t===en;)en=$e[--Ae],$e[Ae]=null,ot=$e[--Ae],$e[Ae]=null,it=$e[--Ae],$e[Ae]=null}var Ce=null,Ne=null,V=!1,He=null;function Vd(t,e){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ju(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ce=t,Ne=Nt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ce=t,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=en!==null?{id:it,overflow:ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ce=t,Ne=null,!0):!1;default:return!1}}function ol(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ll(t){if(V){var e=Ne;if(e){var n=e;if(!ju(t,e)){if(ol(t))throw Error(S(418));e=Nt(n.nextSibling);var r=Ce;e&&ju(t,e)?Vd(r,n):(t.flags=t.flags&-4097|2,V=!1,Ce=t)}}else{if(ol(t))throw Error(S(418));t.flags=t.flags&-4097|2,V=!1,Ce=t}}}function Eu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ce=t}function ys(t){if(t!==Ce)return!1;if(!V)return Eu(t),V=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nl(t.type,t.memoizedProps)),e&&(e=Ne)){if(ol(t))throw Hd(),Error(S(418));for(;e;)Vd(t,e),e=Nt(e.nextSibling)}if(Eu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ne=Nt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ne=null}}else Ne=Ce?Nt(t.stateNode.nextSibling):null;return!0}function Hd(){for(var t=Ne;t;)t=Nt(t.nextSibling)}function zn(){Ne=Ce=null,V=!1}function ua(t){He===null?He=[t]:He.push(t)}var Rm=ht.ReactCurrentBatchConfig;function ir(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function xs(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bu(t){var e=t._init;return e(t._payload)}function Kd(t){function e(g,m){if(t){var f=g.deletions;f===null?(g.deletions=[m],g.flags|=16):f.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Rt(g,m),g.index=0,g.sibling=null,g}function i(g,m,f){return g.index=f,t?(f=g.alternate,f!==null?(f=f.index,f<m?(g.flags|=2,m):f):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,f,x){return m===null||m.tag!==6?(m=vo(f,g.mode,x),m.return=g,m):(m=s(m,f),m.return=g,m)}function a(g,m,f,x){var k=f.type;return k===_n?d(g,m,f.props.children,x,f.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&bu(k)===m.type)?(x=s(m,f.props),x.ref=ir(g,m,f),x.return=g,x):(x=zs(f.type,f.key,f.props,null,g.mode,x),x.ref=ir(g,m,f),x.return=g,x)}function c(g,m,f,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=yo(f,g.mode,x),m.return=g,m):(m=s(m,f.children||[]),m.return=g,m)}function d(g,m,f,x,k){return m===null||m.tag!==7?(m=Xt(f,g.mode,x,k),m.return=g,m):(m=s(m,f),m.return=g,m)}function h(g,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=vo(""+m,g.mode,f),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case as:return f=zs(m.type,m.key,m.props,null,g.mode,f),f.ref=ir(g,null,m),f.return=g,f;case wn:return m=yo(m,g.mode,f),m.return=g,m;case gt:var x=m._init;return h(g,x(m._payload),f)}if(cr(m)||er(m))return m=Xt(m,g.mode,f,null),m.return=g,m;xs(g,m)}return null}function p(g,m,f,x){var k=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:l(g,m,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case as:return f.key===k?a(g,m,f,x):null;case wn:return f.key===k?c(g,m,f,x):null;case gt:return k=f._init,p(g,m,k(f._payload),x)}if(cr(f)||er(f))return k!==null?null:d(g,m,f,x,null);xs(g,f)}return null}function v(g,m,f,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(f)||null,l(m,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case as:return g=g.get(x.key===null?f:x.key)||null,a(m,g,x,k);case wn:return g=g.get(x.key===null?f:x.key)||null,c(m,g,x,k);case gt:var j=x._init;return v(g,m,f,j(x._payload),k)}if(cr(x)||er(x))return g=g.get(f)||null,d(m,g,x,k,null);xs(m,x)}return null}function y(g,m,f,x){for(var k=null,j=null,E=m,P=m=0,W=null;E!==null&&P<f.length;P++){E.index>P?(W=E,E=null):W=E.sibling;var N=p(g,E,f[P],x);if(N===null){E===null&&(E=W);break}t&&E&&N.alternate===null&&e(g,E),m=i(N,m,P),j===null?k=N:j.sibling=N,j=N,E=W}if(P===f.length)return n(g,E),V&&Vt(g,P),k;if(E===null){for(;P<f.length;P++)E=h(g,f[P],x),E!==null&&(m=i(E,m,P),j===null?k=E:j.sibling=E,j=E);return V&&Vt(g,P),k}for(E=r(g,E);P<f.length;P++)W=v(E,g,P,f[P],x),W!==null&&(t&&W.alternate!==null&&E.delete(W.key===null?P:W.key),m=i(W,m,P),j===null?k=W:j.sibling=W,j=W);return t&&E.forEach(function(Z){return e(g,Z)}),V&&Vt(g,P),k}function w(g,m,f,x){var k=er(f);if(typeof k!="function")throw Error(S(150));if(f=k.call(f),f==null)throw Error(S(151));for(var j=k=null,E=m,P=m=0,W=null,N=f.next();E!==null&&!N.done;P++,N=f.next()){E.index>P?(W=E,E=null):W=E.sibling;var Z=p(g,E,N.value,x);if(Z===null){E===null&&(E=W);break}t&&E&&Z.alternate===null&&e(g,E),m=i(Z,m,P),j===null?k=Z:j.sibling=Z,j=Z,E=W}if(N.done)return n(g,E),V&&Vt(g,P),k;if(E===null){for(;!N.done;P++,N=f.next())N=h(g,N.value,x),N!==null&&(m=i(N,m,P),j===null?k=N:j.sibling=N,j=N);return V&&Vt(g,P),k}for(E=r(g,E);!N.done;P++,N=f.next())N=v(E,g,P,N.value,x),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?P:N.key),m=i(N,m,P),j===null?k=N:j.sibling=N,j=N);return t&&E.forEach(function(Oe){return e(g,Oe)}),V&&Vt(g,P),k}function _(g,m,f,x){if(typeof f=="object"&&f!==null&&f.type===_n&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case as:e:{for(var k=f.key,j=m;j!==null;){if(j.key===k){if(k=f.type,k===_n){if(j.tag===7){n(g,j.sibling),m=s(j,f.props.children),m.return=g,g=m;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&bu(k)===j.type){n(g,j.sibling),m=s(j,f.props),m.ref=ir(g,j,f),m.return=g,g=m;break e}n(g,j);break}else e(g,j);j=j.sibling}f.type===_n?(m=Xt(f.props.children,g.mode,x,f.key),m.return=g,g=m):(x=zs(f.type,f.key,f.props,null,g.mode,x),x.ref=ir(g,m,f),x.return=g,g=x)}return o(g);case wn:e:{for(j=f.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){n(g,m.sibling),m=s(m,f.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=yo(f,g.mode,x),m.return=g,g=m}return o(g);case gt:return j=f._init,_(g,m,j(f._payload),x)}if(cr(f))return y(g,m,f,x);if(er(f))return w(g,m,f,x);xs(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,f),m.return=g,g=m):(n(g,m),m=vo(f,g.mode,x),m.return=g,g=m),o(g)):n(g,m)}return _}var Fn=Kd(!0),qd=Kd(!1),ei=Lt(null),ti=null,Tn=null,ca=null;function da(){ca=Tn=ti=null}function ha(t){var e=ei.current;B(ei),t._currentValue=e}function al(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ln(t,e){ti=t,ca=Tn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(ca!==t)if(t={context:t,memoizedValue:e,next:null},Tn===null){if(ti===null)throw Error(S(308));Tn=t,ti.dependencies={lanes:0,firstContext:t}}else Tn=Tn.next=t;return e}var Qt=null;function fa(t){Qt===null?Qt=[t]:Qt.push(t)}function Gd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,fa(e)):(n.next=s.next,s.next=n),e.interleaved=n,ct(t,r)}function ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vt=!1;function pa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ct(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,L&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ct(t,n)}return s=r.interleaved,s===null?(e.next=e,fa(r)):(e.next=s.next,s.next=e),r.interleaved=e,ct(t,n)}function As(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zl(t,n)}}function Nu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ni(t,e,n,r){var s=t.updateQueue;vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var p=l.lane,v=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(p=e,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,h,p):y,p==null)break e;h=q({},h,p);break e;case 2:vt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);nn|=o,t.lanes=o,t.memoizedState=h}}function Cu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var Zr={},Ze=Lt(Zr),Ur=Lt(Zr),Mr=Lt(Zr);function Jt(t){if(t===Zr)throw Error(S(174));return t}function ma(t,e){switch(z(Mr,e),z(Ur,t),z(Ze,Zr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bo(e,t)}B(Ze),z(Ze,e)}function Bn(){B(Ze),B(Ur),B(Mr)}function Jd(t){Jt(Mr.current);var e=Jt(Ze.current),n=Bo(e,t.type);e!==n&&(z(Ur,t),z(Ze,n))}function ga(t){Ur.current===t&&(B(Ze),B(Ur))}var H=Lt(0);function ri(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var co=[];function va(){for(var t=0;t<co.length;t++)co[t]._workInProgressVersionPrimary=null;co.length=0}var Is=ht.ReactCurrentDispatcher,ho=ht.ReactCurrentBatchConfig,tn=0,K=null,te=null,ie=null,si=!1,xr=!1,zr=0,Om=0;function ce(){throw Error(S(321))}function ya(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ge(t[n],e[n]))return!1;return!0}function xa(t,e,n,r,s,i){if(tn=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Is.current=t===null||t.memoizedState===null?Lm:Dm,t=n(r,s),xr){i=0;do{if(xr=!1,zr=0,25<=i)throw Error(S(301));i+=1,ie=te=null,e.updateQueue=null,Is.current=Um,t=n(r,s)}while(xr)}if(Is.current=ii,e=te!==null&&te.next!==null,tn=0,ie=te=K=null,si=!1,e)throw Error(S(300));return t}function wa(){var t=zr!==0;return zr=0,t}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?K.memoizedState=ie=t:ie=ie.next=t,ie}function Me(){if(te===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=ie===null?K.memoizedState:ie.next;if(e!==null)ie=e,te=t;else{if(t===null)throw Error(S(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},ie===null?K.memoizedState=ie=t:ie=ie.next=t}return ie}function Fr(t,e){return typeof e=="function"?e(t):e}function fo(t){var e=Me(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((tn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,K.lanes|=d,nn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Ge(r,e.memoizedState)||(ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,nn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function po(t){var e=Me(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ge(i,e.memoizedState)||(ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Yd(){}function Xd(t,e){var n=K,r=Me(),s=e(),i=!Ge(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,_a(th.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Br(9,eh.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(S(349));tn&30||Zd(n,e,s)}return s}function Zd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eh(t,e,n,r){e.value=n,e.getSnapshot=r,nh(e)&&rh(t)}function th(t,e,n){return n(function(){nh(e)&&rh(t)})}function nh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ge(t,n)}catch{return!0}}function rh(t){var e=ct(t,1);e!==null&&qe(e,t,1,-1)}function Tu(t){var e=Je();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:t},e.queue=t,t=t.dispatch=Im.bind(null,K,t),[e.memoizedState,t]}function Br(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sh(){return Me().memoizedState}function Ls(t,e,n,r){var s=Je();K.flags|=t,s.memoizedState=Br(1|e,n,void 0,r===void 0?null:r)}function ji(t,e,n,r){var s=Me();r=r===void 0?null:r;var i=void 0;if(te!==null){var o=te.memoizedState;if(i=o.destroy,r!==null&&ya(r,o.deps)){s.memoizedState=Br(e,n,i,r);return}}K.flags|=t,s.memoizedState=Br(1|e,n,i,r)}function Pu(t,e){return Ls(8390656,8,t,e)}function _a(t,e){return ji(2048,8,t,e)}function ih(t,e){return ji(4,2,t,e)}function oh(t,e){return ji(4,4,t,e)}function lh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ah(t,e,n){return n=n!=null?n.concat([t]):null,ji(4,4,lh.bind(null,e,t),n)}function ka(){}function uh(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ya(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ch(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ya(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dh(t,e,n){return tn&21?(Ge(n,e)||(n=gd(),K.lanes|=n,nn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=n)}function $m(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=ho.transition;ho.transition={};try{t(!1),e()}finally{U=n,ho.transition=r}}function hh(){return Me().memoizedState}function Am(t,e,n){var r=Pt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fh(t))ph(e,n);else if(n=Gd(t,e,n,r),n!==null){var s=me();qe(n,t,r,s),mh(n,e,r)}}function Im(t,e,n){var r=Pt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fh(t))ph(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ge(l,o)){var a=e.interleaved;a===null?(s.next=s,fa(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Gd(t,e,s,r),n!==null&&(s=me(),qe(n,t,r,s),mh(n,e,r))}}function fh(t){var e=t.alternate;return t===K||e!==null&&e===K}function ph(t,e){xr=si=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zl(t,n)}}var ii={readContext:Ue,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},Lm={readContext:Ue,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:Pu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ls(4194308,4,lh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ls(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ls(4,2,t,e)},useMemo:function(t,e){var n=Je();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Je();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Am.bind(null,K,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:Tu,useDebugValue:ka,useDeferredValue:function(t){return Je().memoizedState=t},useTransition:function(){var t=Tu(!1),e=t[0];return t=$m.bind(null,t[1]),Je().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=K,s=Je();if(V){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),oe===null)throw Error(S(349));tn&30||Zd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Pu(th.bind(null,r,i,t),[t]),r.flags|=2048,Br(9,eh.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Je(),e=oe.identifierPrefix;if(V){var n=ot,r=it;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Om++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dm={readContext:Ue,useCallback:uh,useContext:Ue,useEffect:_a,useImperativeHandle:ah,useInsertionEffect:ih,useLayoutEffect:oh,useMemo:ch,useReducer:fo,useRef:sh,useState:function(){return fo(Fr)},useDebugValue:ka,useDeferredValue:function(t){var e=Me();return dh(e,te.memoizedState,t)},useTransition:function(){var t=fo(Fr)[0],e=Me().memoizedState;return[t,e]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:hh,unstable_isNewReconciler:!1},Um={readContext:Ue,useCallback:uh,useContext:Ue,useEffect:_a,useImperativeHandle:ah,useInsertionEffect:ih,useLayoutEffect:oh,useMemo:ch,useReducer:po,useRef:sh,useState:function(){return po(Fr)},useDebugValue:ka,useDeferredValue:function(t){var e=Me();return te===null?e.memoizedState=t:dh(e,te.memoizedState,t)},useTransition:function(){var t=po(Fr)[0],e=Me().memoizedState;return[t,e]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:hh,unstable_isNewReconciler:!1};function Be(t,e){if(t&&t.defaultProps){e=q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ul(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ei={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=me(),s=Pt(t),i=lt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(qe(e,t,s,r),As(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=me(),s=Pt(t),i=lt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(qe(e,t,s,r),As(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=me(),r=Pt(t),s=lt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ct(t,s,r),e!==null&&(qe(e,t,r,n),As(e,t,r))}};function Ru(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ar(n,r)||!Ar(s,i):!0}function gh(t,e,n){var r=!1,s=At,i=e.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=je(e)?Zt:fe.current,r=e.contextTypes,i=(r=r!=null)?Mn(t,s):At),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ou(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ei.enqueueReplaceState(e,e.state,null)}function cl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},pa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=je(e)?Zt:fe.current,s.context=Mn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ul(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ei.enqueueReplaceState(s,s.state,null),ni(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wn(t,e){try{var n="",r=e;do n+=hp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Mm=typeof WeakMap=="function"?WeakMap:Map;function vh(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){li||(li=!0,_l=r),dl(t,e)},n}function yh(t,e,n){n=lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){dl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){dl(t,e),typeof r!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $u(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Mm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Zm.bind(null,t,e,n),e.then(t,t))}function Au(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,Ct(n,e,1))),n.lanes|=1),t)}var zm=ht.ReactCurrentOwner,ke=!1;function pe(t,e,n,r){e.child=t===null?qd(e,null,n,r):Fn(e,t.child,n,r)}function Lu(t,e,n,r,s){n=n.render;var i=e.ref;return Ln(e,s),r=xa(t,e,n,r,i,s),n=wa(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(V&&n&&la(e),e.flags|=1,pe(t,e,r,s),e.child)}function Du(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Pa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,xh(t,e,i,r,s)):(t=zs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ar,n(o,r)&&t.ref===e.ref)return dt(t,e,s)}return e.flags|=1,t=Rt(i,r),t.ref=e.ref,t.return=e,e.child=t}function xh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ar(i,r)&&t.ref===e.ref)if(ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,dt(t,e,s)}return hl(t,e,n,r,s)}function wh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(Rn,be),be|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(Rn,be),be|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(Rn,be),be|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,z(Rn,be),be|=r;return pe(t,e,s,n),e.child}function _h(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hl(t,e,n,r,s){var i=je(n)?Zt:fe.current;return i=Mn(e,i),Ln(e,s),n=xa(t,e,n,r,i,s),r=wa(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(V&&r&&la(e),e.flags|=1,pe(t,e,n,s),e.child)}function Uu(t,e,n,r,s){if(je(n)){var i=!0;Ys(e)}else i=!1;if(Ln(e,s),e.stateNode===null)Ds(t,e),gh(e,n,r),cl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ue(c):(c=je(n)?Zt:fe.current,c=Mn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Ou(e,o,r,c),vt=!1;var p=e.memoizedState;o.state=p,ni(e,r,o,s),a=e.memoizedState,l!==r||p!==a||Se.current||vt?(typeof d=="function"&&(ul(e,n,d,r),a=e.memoizedState),(l=vt||Ru(e,n,l,r,p,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qd(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Be(e.type,l),o.props=c,h=e.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=je(n)?Zt:fe.current,a=Mn(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&Ou(e,o,r,a),vt=!1,p=e.memoizedState,o.state=p,ni(e,r,o,s);var y=e.memoizedState;l!==h||p!==y||Se.current||vt?(typeof v=="function"&&(ul(e,n,v,r),y=e.memoizedState),(c=vt||Ru(e,n,c,r,p,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return fl(t,e,n,r,i,s)}function fl(t,e,n,r,s,i){_h(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Su(e,n,!1),dt(t,e,i);r=e.stateNode,zm.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fn(e,t.child,null,i),e.child=Fn(e,null,l,i)):pe(t,e,l,i),e.memoizedState=r.state,s&&Su(e,n,!0),e.child}function kh(t){var e=t.stateNode;e.pendingContext?ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ku(t,e.context,!1),ma(t,e.containerInfo)}function Mu(t,e,n,r,s){return zn(),ua(s),e.flags|=256,pe(t,e,n,r),e.child}var pl={dehydrated:null,treeContext:null,retryLane:0};function ml(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sh(t,e,n){var r=e.pendingProps,s=H.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(H,s&1),t===null)return ll(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ci(o,r,0,null),t=Xt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ml(n),e.memoizedState=pl,t):Sa(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fm(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Rt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Rt(l,i):(i=Xt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ml(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pl,r}return i=t.child,t=i.sibling,r=Rt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sa(t,e){return e=Ci({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ws(t,e,n,r){return r!==null&&ua(r),Fn(e,t.child,null,n),t=Sa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fm(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mo(Error(S(422))),ws(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ci({mode:"visible",children:r.children},s,0,null),i=Xt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fn(e,t.child,null,o),e.child.memoizedState=ml(o),e.memoizedState=pl,i);if(!(e.mode&1))return ws(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=mo(i,r,void 0),ws(t,e,o,r)}if(l=(o&t.childLanes)!==0,ke||l){if(r=oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ct(t,s),qe(r,t,s,-1))}return Ta(),r=mo(Error(S(421))),ws(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=eg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ne=Nt(s.nextSibling),Ce=e,V=!0,He=null,t!==null&&($e[Ae++]=it,$e[Ae++]=ot,$e[Ae++]=en,it=t.id,ot=t.overflow,en=e),e=Sa(e,r.children),e.flags|=4096,e)}function zu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),al(t.return,e,n)}function go(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pe(t,e,r.children,n),r=H.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zu(t,n,e);else if(t.tag===19)zu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(z(H,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ri(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),go(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ri(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}go(e,!0,n,null,i);break;case"together":go(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ds(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Rt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bm(t,e,n){switch(e.tag){case 3:kh(e),zn();break;case 5:Jd(e);break;case 1:je(e.type)&&Ys(e);break;case 4:ma(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;z(ei,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(z(H,H.current&1),e.flags|=128,null):n&e.child.childLanes?Sh(t,e,n):(z(H,H.current&1),t=dt(t,e,n),t!==null?t.sibling:null);z(H,H.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(H,H.current),r)break;return null;case 22:case 23:return e.lanes=0,wh(t,e,n)}return dt(t,e,n)}var Eh,gl,bh,Nh;Eh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gl=function(){};bh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Jt(Ze.current);var i=null;switch(n){case"input":s=Uo(t,s),r=Uo(t,r),i=[];break;case"select":s=q({},s,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":s=Fo(t,s),r=Fo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qs)}Wo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&F("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Nh=function(t,e,n,r){n!==r&&(e.flags|=4)};function or(t,e){if(!V)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wm(t,e,n){var r=e.pendingProps;switch(aa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return je(e.type)&&Js(),de(e),null;case 3:return r=e.stateNode,Bn(),B(Se),B(fe),va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ys(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,He!==null&&(jl(He),He=null))),gl(t,e),de(e),null;case 5:ga(e);var s=Jt(Mr.current);if(n=e.type,t!==null&&e.stateNode!=null)bh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return de(e),null}if(t=Jt(Ze.current),ys(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ye]=e,r[Dr]=i,t=(e.mode&1)!==0,n){case"dialog":F("cancel",r),F("close",r);break;case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(s=0;s<hr.length;s++)F(hr[s],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"details":F("toggle",r);break;case"input":Qa(r,i),F("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},F("invalid",r);break;case"textarea":Ya(r,i),F("invalid",r)}Wo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&vs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vs(r.textContent,l,t),s=["children",""+l]):Nr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&F("scroll",r)}switch(n){case"input":us(r),Ja(r,i,!0);break;case"textarea":us(r),Xa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=td(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ye]=e,t[Dr]=r,Eh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vo(n,r),n){case"dialog":F("cancel",t),F("close",t),s=r;break;case"iframe":case"object":case"embed":F("load",t),s=r;break;case"video":case"audio":for(s=0;s<hr.length;s++)F(hr[s],t);s=r;break;case"source":F("error",t),s=r;break;case"img":case"image":case"link":F("error",t),F("load",t),s=r;break;case"details":F("toggle",t),s=r;break;case"input":Qa(t,r),s=Uo(t,r),F("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=q({},r,{value:void 0}),F("invalid",t);break;case"textarea":Ya(t,r),s=Fo(t,r),F("invalid",t);break;default:s=r}Wo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?sd(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&nd(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cr(t,a):typeof a=="number"&&Cr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&F("scroll",t):a!=null&&ql(t,i,a,o))}switch(n){case"input":us(t),Ja(t,r,!1);break;case"textarea":us(t),Xa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$t(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?On(t,!!r.multiple,i,!1):r.defaultValue!=null&&On(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return de(e),null;case 6:if(t&&e.stateNode!=null)Nh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Jt(Mr.current),Jt(Ze.current),ys(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ye]=e,(i=r.nodeValue!==n)&&(t=Ce,t!==null))switch(t.tag){case 3:vs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ye]=e,e.stateNode=r}return de(e),null;case 13:if(B(H),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(V&&Ne!==null&&e.mode&1&&!(e.flags&128))Hd(),zn(),e.flags|=98560,i=!1;else if(i=ys(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[Ye]=e}else zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;de(e),i=!1}else He!==null&&(jl(He),He=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||H.current&1?ne===0&&(ne=3):Ta())),e.updateQueue!==null&&(e.flags|=4),de(e),null);case 4:return Bn(),gl(t,e),t===null&&Ir(e.stateNode.containerInfo),de(e),null;case 10:return ha(e.type._context),de(e),null;case 17:return je(e.type)&&Js(),de(e),null;case 19:if(B(H),i=e.memoizedState,i===null)return de(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)or(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ri(t),o!==null){for(e.flags|=128,or(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return z(H,H.current&1|2),e.child}t=t.sibling}i.tail!==null&&J()>Vn&&(e.flags|=128,r=!0,or(i,!1),e.lanes=4194304)}else{if(!r)if(t=ri(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!V)return de(e),null}else 2*J()-i.renderingStartTime>Vn&&n!==1073741824&&(e.flags|=128,r=!0,or(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=J(),e.sibling=null,n=H.current,z(H,r?n&1|2:n&1),e):(de(e),null);case 22:case 23:return Ca(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?be&1073741824&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Vm(t,e){switch(aa(e),e.tag){case 1:return je(e.type)&&Js(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bn(),B(Se),B(fe),va(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ga(e),null;case 13:if(B(H),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return B(H),null;case 4:return Bn(),null;case 10:return ha(e.type._context),null;case 22:case 23:return Ca(),null;case 24:return null;default:return null}}var _s=!1,he=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,C=null;function Pn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){G(t,e,r)}else n.current=null}function vl(t,e,n){try{n()}catch(r){G(t,e,r)}}var Fu=!1;function Km(t,e){if(el=Ks,t=Od(),oa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++c===s&&(l=o),p===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(tl={focusedElem:t,selectionRange:n},Ks=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Be(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(x){G(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=Fu,Fu=!1,y}function wr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vl(e,n,i)}s=s.next}while(s!==r)}}function bi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ch(t){var e=t.alternate;e!==null&&(t.alternate=null,Ch(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ye],delete e[Dr],delete e[sl],delete e[Cm],delete e[Tm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Th(t){return t.tag===5||t.tag===3||t.tag===4}function Bu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Th(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qs));else if(r!==4&&(t=t.child,t!==null))for(xl(t,e,n),t=t.sibling;t!==null;)xl(t,e,n),t=t.sibling}function wl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wl(t,e,n),t=t.sibling;t!==null;)wl(t,e,n),t=t.sibling}var le=null,We=!1;function ft(t,e,n){for(n=n.child;n!==null;)Ph(t,e,n),n=n.sibling}function Ph(t,e,n){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(yi,n)}catch{}switch(n.tag){case 5:he||Pn(n,e);case 6:var r=le,s=We;le=null,ft(t,e,n),le=r,We=s,le!==null&&(We?(t=le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(We?(t=le,n=n.stateNode,t.nodeType===8?ao(t.parentNode,n):t.nodeType===1&&ao(t,n),Or(t)):ao(le,n.stateNode));break;case 4:r=le,s=We,le=n.stateNode.containerInfo,We=!0,ft(t,e,n),le=r,We=s;break;case 0:case 11:case 14:case 15:if(!he&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vl(n,e,o),s=s.next}while(s!==r)}ft(t,e,n);break;case 1:if(!he&&(Pn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){G(n,e,l)}ft(t,e,n);break;case 21:ft(t,e,n);break;case 22:n.mode&1?(he=(r=he)||n.memoizedState!==null,ft(t,e,n),he=r):ft(t,e,n);break;default:ft(t,e,n)}}function Wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hm),e.forEach(function(r){var s=tg.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:le=l.stateNode,We=!1;break e;case 3:le=l.stateNode.containerInfo,We=!0;break e;case 4:le=l.stateNode.containerInfo,We=!0;break e}l=l.return}if(le===null)throw Error(S(160));Ph(i,o,s),le=null,We=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){G(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rh(e,t),e=e.sibling}function Rh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ze(e,t),Qe(t),r&4){try{wr(3,t,t.return),bi(3,t)}catch(w){G(t,t.return,w)}try{wr(5,t,t.return)}catch(w){G(t,t.return,w)}}break;case 1:ze(e,t),Qe(t),r&512&&n!==null&&Pn(n,n.return);break;case 5:if(ze(e,t),Qe(t),r&512&&n!==null&&Pn(n,n.return),t.flags&32){var s=t.stateNode;try{Cr(s,"")}catch(w){G(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zc(s,i),Vo(l,o);var c=Vo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?sd(s,h):d==="dangerouslySetInnerHTML"?nd(s,h):d==="children"?Cr(s,h):ql(s,d,h,c)}switch(l){case"input":Mo(s,i);break;case"textarea":ed(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?On(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?On(s,!!i.multiple,i.defaultValue,!0):On(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dr]=i}catch(w){G(t,t.return,w)}}break;case 6:if(ze(e,t),Qe(t),r&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){G(t,t.return,w)}}break;case 3:if(ze(e,t),Qe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Or(e.containerInfo)}catch(w){G(t,t.return,w)}break;case 4:ze(e,t),Qe(t);break;case 13:ze(e,t),Qe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ba=J())),r&4&&Wu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(he=(c=he)||d,ze(e,t),he=c):ze(e,t),Qe(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(h=C=d;C!==null;){switch(p=C,v=p.child,p.tag){case 0:case 11:case 14:case 15:wr(4,p,p.return);break;case 1:Pn(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){G(r,n,w)}}break;case 5:Pn(p,p.return);break;case 22:if(p.memoizedState!==null){Hu(h);continue}}v!==null?(v.return=p,C=v):Hu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=rd("display",o))}catch(w){G(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){G(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ze(e,t),Qe(t),r&4&&Wu(t);break;case 21:break;default:ze(e,t),Qe(t)}}function Qe(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Th(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cr(s,""),r.flags&=-33);var i=Bu(t);wl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Bu(t);xl(t,l,o);break;default:throw Error(S(161))}}catch(a){G(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qm(t,e,n){C=t,Oh(t)}function Oh(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_s;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||he;l=_s;var c=he;if(_s=o,(he=a)&&!c)for(C=s;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?Ku(s):a!==null?(a.return=o,C=a):Ku(s);for(;i!==null;)C=i,Oh(i),i=i.sibling;C=s,_s=l,he=c}Vu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):Vu(t)}}function Vu(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:he||bi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!he)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Be(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Or(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}he||e.flags&512&&yl(e)}catch(p){G(e,e.return,p)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function Hu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function Ku(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bi(4,e)}catch(a){G(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){G(e,s,a)}}var i=e.return;try{yl(e)}catch(a){G(e,i,a)}break;case 5:var o=e.return;try{yl(e)}catch(a){G(e,o,a)}}}catch(a){G(e,e.return,a)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var Gm=Math.ceil,oi=ht.ReactCurrentDispatcher,ja=ht.ReactCurrentOwner,Le=ht.ReactCurrentBatchConfig,L=0,oe=null,Y=null,ae=0,be=0,Rn=Lt(0),ne=0,Wr=null,nn=0,Ni=0,Ea=0,_r=null,we=null,ba=0,Vn=1/0,tt=null,li=!1,_l=null,Tt=null,ks=!1,kt=null,ai=0,kr=0,kl=null,Us=-1,Ms=0;function me(){return L&6?J():Us!==-1?Us:Us=J()}function Pt(t){return t.mode&1?L&2&&ae!==0?ae&-ae:Rm.transition!==null?(Ms===0&&(Ms=gd()),Ms):(t=U,t!==0||(t=window.event,t=t===void 0?16:Sd(t.type)),t):1}function qe(t,e,n,r){if(50<kr)throw kr=0,kl=null,Error(S(185));Jr(t,n,r),(!(L&2)||t!==oe)&&(t===oe&&(!(L&2)&&(Ni|=n),ne===4&&xt(t,ae)),Ee(t,r),n===1&&L===0&&!(e.mode&1)&&(Vn=J()+500,Si&&Dt()))}function Ee(t,e){var n=t.callbackNode;Rp(t,e);var r=Hs(t,t===oe?ae:0);if(r===0)n!==null&&tu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tu(n),e===1)t.tag===0?Pm(qu.bind(null,t)):Bd(qu.bind(null,t)),bm(function(){!(L&6)&&Dt()}),n=null;else{switch(vd(r)){case 1:n=Xl;break;case 4:n=pd;break;case 16:n=Vs;break;case 536870912:n=md;break;default:n=Vs}n=zh(n,$h.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $h(t,e){if(Us=-1,Ms=0,L&6)throw Error(S(327));var n=t.callbackNode;if(Dn()&&t.callbackNode!==n)return null;var r=Hs(t,t===oe?ae:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ui(t,r);else{e=r;var s=L;L|=2;var i=Ih();(oe!==t||ae!==e)&&(tt=null,Vn=J()+500,Yt(t,e));do try{Ym();break}catch(l){Ah(t,l)}while(!0);da(),oi.current=i,L=s,Y!==null?e=0:(oe=null,ae=0,e=ne)}if(e!==0){if(e===2&&(s=Qo(t),s!==0&&(r=s,e=Sl(t,s))),e===1)throw n=Wr,Yt(t,0),xt(t,r),Ee(t,J()),n;if(e===6)xt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Qm(s)&&(e=ui(t,r),e===2&&(i=Qo(t),i!==0&&(r=i,e=Sl(t,i))),e===1))throw n=Wr,Yt(t,0),xt(t,r),Ee(t,J()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:Ht(t,we,tt);break;case 3:if(xt(t,r),(r&130023424)===r&&(e=ba+500-J(),10<e)){if(Hs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){me(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=rl(Ht.bind(null,t,we,tt),e);break}Ht(t,we,tt);break;case 4:if(xt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ke(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gm(r/1960))-r,10<r){t.timeoutHandle=rl(Ht.bind(null,t,we,tt),r);break}Ht(t,we,tt);break;case 5:Ht(t,we,tt);break;default:throw Error(S(329))}}}return Ee(t,J()),t.callbackNode===n?$h.bind(null,t):null}function Sl(t,e){var n=_r;return t.current.memoizedState.isDehydrated&&(Yt(t,e).flags|=256),t=ui(t,e),t!==2&&(e=we,we=n,e!==null&&jl(e)),t}function jl(t){we===null?we=t:we.push.apply(we,t)}function Qm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xt(t,e){for(e&=~Ea,e&=~Ni,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ke(e),r=1<<n;t[n]=-1,e&=~r}}function qu(t){if(L&6)throw Error(S(327));Dn();var e=Hs(t,0);if(!(e&1))return Ee(t,J()),null;var n=ui(t,e);if(t.tag!==0&&n===2){var r=Qo(t);r!==0&&(e=r,n=Sl(t,r))}if(n===1)throw n=Wr,Yt(t,0),xt(t,e),Ee(t,J()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ht(t,we,tt),Ee(t,J()),null}function Na(t,e){var n=L;L|=1;try{return t(e)}finally{L=n,L===0&&(Vn=J()+500,Si&&Dt())}}function rn(t){kt!==null&&kt.tag===0&&!(L&6)&&Dn();var e=L;L|=1;var n=Le.transition,r=U;try{if(Le.transition=null,U=1,t)return t()}finally{U=r,Le.transition=n,L=e,!(L&6)&&Dt()}}function Ca(){be=Rn.current,B(Rn)}function Yt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Em(n)),Y!==null)for(n=Y.return;n!==null;){var r=n;switch(aa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Js();break;case 3:Bn(),B(Se),B(fe),va();break;case 5:ga(r);break;case 4:Bn();break;case 13:B(H);break;case 19:B(H);break;case 10:ha(r.type._context);break;case 22:case 23:Ca()}n=n.return}if(oe=t,Y=t=Rt(t.current,null),ae=be=e,ne=0,Wr=null,Ea=Ni=nn=0,we=_r=null,Qt!==null){for(e=0;e<Qt.length;e++)if(n=Qt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qt=null}return t}function Ah(t,e){do{var n=Y;try{if(da(),Is.current=ii,si){for(var r=K.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}si=!1}if(tn=0,ie=te=K=null,xr=!1,zr=0,ja.current=null,n===null||n.return===null){ne=1,Wr=e,Y=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Au(o);if(v!==null){v.flags&=-257,Iu(v,o,l,i,e),v.mode&1&&$u(i,c,e),e=v,a=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(a),e.updateQueue=w}else y.add(a);break e}else{if(!(e&1)){$u(i,c,e),Ta();break e}a=Error(S(426))}}else if(V&&l.mode&1){var _=Au(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Iu(_,o,l,i,e),ua(Wn(a,l));break e}}i=a=Wn(a,l),ne!==4&&(ne=2),_r===null?_r=[i]:_r.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=vh(i,a,e);Nu(i,g);break e;case 1:l=a;var m=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Tt===null||!Tt.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=yh(i,l,e);Nu(i,x);break e}}i=i.return}while(i!==null)}Dh(n)}catch(k){e=k,Y===n&&n!==null&&(Y=n=n.return);continue}break}while(!0)}function Ih(){var t=oi.current;return oi.current=ii,t===null?ii:t}function Ta(){(ne===0||ne===3||ne===2)&&(ne=4),oe===null||!(nn&268435455)&&!(Ni&268435455)||xt(oe,ae)}function ui(t,e){var n=L;L|=2;var r=Ih();(oe!==t||ae!==e)&&(tt=null,Yt(t,e));do try{Jm();break}catch(s){Ah(t,s)}while(!0);if(da(),L=n,oi.current=r,Y!==null)throw Error(S(261));return oe=null,ae=0,ne}function Jm(){for(;Y!==null;)Lh(Y)}function Ym(){for(;Y!==null&&!kp();)Lh(Y)}function Lh(t){var e=Mh(t.alternate,t,be);t.memoizedProps=t.pendingProps,e===null?Dh(t):Y=e,ja.current=null}function Dh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vm(n,e),n!==null){n.flags&=32767,Y=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,Y=null;return}}else if(n=Wm(n,e,be),n!==null){Y=n;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=t}while(e!==null);ne===0&&(ne=5)}function Ht(t,e,n){var r=U,s=Le.transition;try{Le.transition=null,U=1,Xm(t,e,n,r)}finally{Le.transition=s,U=r}return null}function Xm(t,e,n,r){do Dn();while(kt!==null);if(L&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Op(t,i),t===oe&&(Y=oe=null,ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,zh(Vs,function(){return Dn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Le.transition,Le.transition=null;var o=U;U=1;var l=L;L|=4,ja.current=null,Km(t,n),Rh(n,t),ym(tl),Ks=!!el,tl=el=null,t.current=n,qm(n),Sp(),L=l,U=o,Le.transition=i}else t.current=n;if(ks&&(ks=!1,kt=t,ai=s),i=t.pendingLanes,i===0&&(Tt=null),bp(n.stateNode),Ee(t,J()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(li)throw li=!1,t=_l,_l=null,t;return ai&1&&t.tag!==0&&Dn(),i=t.pendingLanes,i&1?t===kl?kr++:(kr=0,kl=t):kr=0,Dt(),null}function Dn(){if(kt!==null){var t=vd(ai),e=Le.transition,n=U;try{if(Le.transition=null,U=16>t?16:t,kt===null)var r=!1;else{if(t=kt,kt=null,ai=0,L&6)throw Error(S(331));var s=L;for(L|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(C=c;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:wr(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var p=d.sibling,v=d.return;if(Ch(d),d===c){C=null;break}if(p!==null){p.return=v,C=p;break}C=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var m=t.current;for(C=m;C!==null;){o=C;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,C=f;else e:for(o=m;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bi(9,l)}}catch(k){G(l,l.return,k)}if(l===o){C=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,C=x;break e}C=l.return}}if(L=s,Dt(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(yi,t)}catch{}r=!0}return r}finally{U=n,Le.transition=e}}return!1}function Gu(t,e,n){e=Wn(n,e),e=vh(t,e,1),t=Ct(t,e,1),e=me(),t!==null&&(Jr(t,1,e),Ee(t,e))}function G(t,e,n){if(t.tag===3)Gu(t,t,n);else for(;e!==null;){if(e.tag===3){Gu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tt===null||!Tt.has(r))){t=Wn(n,t),t=yh(e,t,1),e=Ct(e,t,1),t=me(),e!==null&&(Jr(e,1,t),Ee(e,t));break}}e=e.return}}function Zm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=me(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ae&n)===n&&(ne===4||ne===3&&(ae&130023424)===ae&&500>J()-ba?Yt(t,0):Ea|=n),Ee(t,e)}function Uh(t,e){e===0&&(t.mode&1?(e=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):e=1);var n=me();t=ct(t,e),t!==null&&(Jr(t,e,n),Ee(t,n))}function eg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Uh(t,n)}function tg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Uh(t,n)}var Mh;Mh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ke=!1,Bm(t,e,n);ke=!!(t.flags&131072)}else ke=!1,V&&e.flags&1048576&&Wd(e,Zs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ds(t,e),t=e.pendingProps;var s=Mn(e,fe.current);Ln(e,n),s=xa(null,e,r,t,s,n);var i=wa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(i=!0,Ys(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pa(e),s.updater=Ei,e.stateNode=s,s._reactInternals=e,cl(e,r,t,n),e=fl(null,e,r,!0,i,n)):(e.tag=0,V&&i&&la(e),pe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ds(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=rg(r),t=Be(r,t),s){case 0:e=hl(null,e,r,t,n);break e;case 1:e=Uu(null,e,r,t,n);break e;case 11:e=Lu(null,e,r,t,n);break e;case 14:e=Du(null,e,r,Be(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),hl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Uu(t,e,r,s,n);case 3:e:{if(kh(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Qd(t,e),ni(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wn(Error(S(423)),e),e=Mu(t,e,r,n,s);break e}else if(r!==s){s=Wn(Error(S(424)),e),e=Mu(t,e,r,n,s);break e}else for(Ne=Nt(e.stateNode.containerInfo.firstChild),Ce=e,V=!0,He=null,n=qd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===s){e=dt(t,e,n);break e}pe(t,e,r,n)}e=e.child}return e;case 5:return Jd(e),t===null&&ll(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,nl(r,s)?o=null:i!==null&&nl(r,i)&&(e.flags|=32),_h(t,e),pe(t,e,o,n),e.child;case 6:return t===null&&ll(e),null;case 13:return Sh(t,e,n);case 4:return ma(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fn(e,null,r,n):pe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Lu(t,e,r,s,n);case 7:return pe(t,e,e.pendingProps,n),e.child;case 8:return pe(t,e,e.pendingProps.children,n),e.child;case 12:return pe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,z(ei,r._currentValue),r._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!Se.current){e=dt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=lt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),al(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),al(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ln(e,n),s=Ue(s),r=r(s),e.flags|=1,pe(t,e,r,n),e.child;case 14:return r=e.type,s=Be(r,e.pendingProps),s=Be(r.type,s),Du(t,e,r,s,n);case 15:return xh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Ds(t,e),e.tag=1,je(r)?(t=!0,Ys(e)):t=!1,Ln(e,n),gh(e,r,s),cl(e,r,s,n),fl(null,e,r,!0,t,n);case 19:return jh(t,e,n);case 22:return wh(t,e,n)}throw Error(S(156,e.tag))};function zh(t,e){return fd(t,e)}function ng(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,n,r){return new ng(t,e,n,r)}function Pa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rg(t){if(typeof t=="function")return Pa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ql)return 11;if(t===Jl)return 14}return 2}function Rt(t,e){var n=t.alternate;return n===null?(n=Ie(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Pa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _n:return Xt(n.children,s,i,e);case Gl:o=8,s|=8;break;case Ao:return t=Ie(12,n,e,s|2),t.elementType=Ao,t.lanes=i,t;case Io:return t=Ie(13,n,e,s),t.elementType=Io,t.lanes=i,t;case Lo:return t=Ie(19,n,e,s),t.elementType=Lo,t.lanes=i,t;case Jc:return Ci(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gc:o=10;break e;case Qc:o=9;break e;case Ql:o=11;break e;case Jl:o=14;break e;case gt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ie(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xt(t,e,n,r){return t=Ie(7,t,r,e),t.lanes=n,t}function Ci(t,e,n,r){return t=Ie(22,t,r,e),t.elementType=Jc,t.lanes=n,t.stateNode={isHidden:!1},t}function vo(t,e,n){return t=Ie(6,t,null,e),t.lanes=n,t}function yo(t,e,n){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sg(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ra(t,e,n,r,s,i,o,l,a){return t=new sg(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ie(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(i),t}function ig(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fh(t){if(!t)return At;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(je(n))return Fd(t,n,e)}return e}function Bh(t,e,n,r,s,i,o,l,a){return t=Ra(n,r,!0,t,s,i,o,l,a),t.context=Fh(null),n=t.current,r=me(),s=Pt(n),i=lt(r,s),i.callback=e??null,Ct(n,i,s),t.current.lanes=s,Jr(t,s,r),Ee(t,r),t}function Ti(t,e,n,r){var s=e.current,i=me(),o=Pt(s);return n=Fh(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ct(s,e,o),t!==null&&(qe(t,s,o,i),As(t,s,o)),o}function ci(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Oa(t,e){Qu(t,e),(t=t.alternate)&&Qu(t,e)}function og(){return null}var Wh=typeof reportError=="function"?reportError:function(t){console.error(t)};function $a(t){this._internalRoot=t}Pi.prototype.render=$a.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Ti(t,e,null,null)};Pi.prototype.unmount=$a.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rn(function(){Ti(null,t,null,null)}),e[ut]=null}};function Pi(t){this._internalRoot=t}Pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=wd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yt.length&&e!==0&&e<yt[n].priority;n++);yt.splice(n,0,t),n===0&&kd(t)}};function Aa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ri(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ju(){}function lg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ci(o);i.call(c)}}var o=Bh(e,r,t,0,null,!1,!1,"",Ju);return t._reactRootContainer=o,t[ut]=o.current,Ir(t.nodeType===8?t.parentNode:t),rn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ci(a);l.call(c)}}var a=Ra(t,0,!1,null,null,!1,!1,"",Ju);return t._reactRootContainer=a,t[ut]=a.current,Ir(t.nodeType===8?t.parentNode:t),rn(function(){Ti(e,a,n,r)}),a}function Oi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ci(o);l.call(a)}}Ti(e,o,t,s)}else o=lg(n,e,t,s,r);return ci(o)}yd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dr(e.pendingLanes);n!==0&&(Zl(e,n|1),Ee(e,J()),!(L&6)&&(Vn=J()+500,Dt()))}break;case 13:rn(function(){var r=ct(t,1);if(r!==null){var s=me();qe(r,t,1,s)}}),Oa(t,1)}};ea=function(t){if(t.tag===13){var e=ct(t,134217728);if(e!==null){var n=me();qe(e,t,134217728,n)}Oa(t,134217728)}};xd=function(t){if(t.tag===13){var e=Pt(t),n=ct(t,e);if(n!==null){var r=me();qe(n,t,e,r)}Oa(t,e)}};wd=function(){return U};_d=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};Ko=function(t,e,n){switch(e){case"input":if(Mo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ki(r);if(!s)throw Error(S(90));Xc(r),Mo(r,s)}}}break;case"textarea":ed(t,n);break;case"select":e=n.value,e!=null&&On(t,!!n.multiple,e,!1)}};ld=Na;ad=rn;var ag={usingClientEntryPoint:!1,Events:[Xr,En,ki,id,od,Na]},lr={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ug={bundleType:lr.bundleType,version:lr.version,rendererPackageName:lr.rendererPackageName,rendererConfig:lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dd(t),t===null?null:t.stateNode},findFiberByHostInstance:lr.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{yi=Ss.inject(ug),Xe=Ss}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;Pe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aa(e))throw Error(S(200));return ig(t,e,null,n)};Pe.createRoot=function(t,e){if(!Aa(t))throw Error(S(299));var n=!1,r="",s=Wh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ra(t,1,!1,null,null,n,!1,r,s),t[ut]=e.current,Ir(t.nodeType===8?t.parentNode:t),new $a(e)};Pe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=dd(e),t=t===null?null:t.stateNode,t};Pe.flushSync=function(t){return rn(t)};Pe.hydrate=function(t,e,n){if(!Ri(e))throw Error(S(200));return Oi(null,t,e,!0,n)};Pe.hydrateRoot=function(t,e,n){if(!Aa(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Wh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Bh(e,null,t,1,n??null,s,!1,i,o),t[ut]=e.current,Ir(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pi(e)};Pe.render=function(t,e,n){if(!Ri(e))throw Error(S(200));return Oi(null,t,e,!1,n)};Pe.unmountComponentAtNode=function(t){if(!Ri(t))throw Error(S(40));return t._reactRootContainer?(rn(function(){Oi(null,null,t,!1,function(){t._reactRootContainer=null,t[ut]=null})}),!0):!1};Pe.unstable_batchedUpdates=Na;Pe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ri(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Oi(t,e,n,!1,r)};Pe.version="18.3.1-next-f1338f8080-20240426";function Vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vh)}catch(t){console.error(t)}}Vh(),Vc.exports=Pe;var cg=Vc.exports,Yu=cg;Oo.createRoot=Yu.createRoot,Oo.hydrateRoot=Yu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vr(){return Vr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vr.apply(this,arguments)}var St;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(St||(St={}));const Xu="popstate";function dg(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return El("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:di(s)}return fg(e,n,null,t)}function X(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hg(){return Math.random().toString(36).substr(2,8)}function Zu(t,e){return{usr:t.state,key:t.key,idx:e}}function El(t,e,n,r){return n===void 0&&(n=null),Vr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jn(e):e,{state:n,key:e&&e.key||r||hg()})}function di(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fg(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=St.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Vr({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=St.Pop;let _=d(),g=_==null?null:_-c;c=_,a&&a({action:l,location:w.location,delta:g})}function p(_,g){l=St.Push;let m=El(w.location,_,g);c=d()+1;let f=Zu(m,c),x=w.createHref(m);try{o.pushState(f,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&a&&a({action:l,location:w.location,delta:1})}function v(_,g){l=St.Replace;let m=El(w.location,_,g);c=d();let f=Zu(m,c),x=w.createHref(m);o.replaceState(f,"",x),i&&a&&a({action:l,location:w.location,delta:0})}function y(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:di(_);return m=m.replace(/ $/,"%20"),X(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let w={get action(){return l},get location(){return t(s,o)},listen(_){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Xu,h),a=_,()=>{s.removeEventListener(Xu,h),a=null}},createHref(_){return e(s,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:v,go(_){return o.go(_)}};return w}var ec;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ec||(ec={}));function pg(t,e,n){return n===void 0&&(n="/"),mg(t,e,n)}function mg(t,e,n,r){let s=typeof e=="string"?Jn(e):e,i=Ia(s.pathname||"/",n);if(i==null)return null;let o=Kh(t);gg(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=Cg(i);l=Eg(o[a],c)}return l}function Kh(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(X(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Ot([r,a.relativePath]),d=n.concat(a);i.children&&i.children.length>0&&(X(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Kh(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Sg(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of qh(i.path))s(i,o,a)}),e}function qh(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=qh(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function gg(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jg(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vg=/^:[\w-]+$/,yg=3,xg=2,wg=1,_g=10,kg=-2,tc=t=>t==="*";function Sg(t,e){let n=t.split("/"),r=n.length;return n.some(tc)&&(r+=kg),e&&(r+=xg),n.filter(s=>!tc(s)).reduce((s,i)=>s+(vg.test(i)?yg:i===""?wg:_g),r)}function jg(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Eg(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=bg({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),p=a.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ot([i,h.pathname]),pathnameBase:Og(Ot([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ot([i,h.pathnameBase]))}return o}function bg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ng(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return v&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Ng(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Cg(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Tg(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jn(t):t;return{pathname:n?n.startsWith("/")?n:Pg(n,e):e,search:$g(r),hash:Ag(s)}}function Pg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xo(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gh(t,e){let n=Rg(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Jn(t):(s=Vr({},t),X(!s.pathname||!s.pathname.includes("?"),xo("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),xo("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),xo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?e[h]:"/"}let a=Tg(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const Ot=t=>t.join("/").replace(/\/\/+/g,"/"),Og=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$g=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ag=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ig(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jh=["post","put","patch","delete"];new Set(Jh);const Lg=["get",...Jh];new Set(Lg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr.apply(this,arguments)}const La=b.createContext(null),Dg=b.createContext(null),an=b.createContext(null),$i=b.createContext(null),un=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Yh=b.createContext(null);function Ug(t,e){let{relative:n}=e===void 0?{}:e;es()||X(!1);let{basename:r,navigator:s}=b.useContext(an),{hash:i,pathname:o,search:l}=Zh(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Ot([r,o])),s.createHref({pathname:a,search:l,hash:i})}function es(){return b.useContext($i)!=null}function ts(){return es()||X(!1),b.useContext($i).location}function Xh(t){b.useContext(an).static||b.useLayoutEffect(t)}function Mg(){let{isDataRoute:t}=b.useContext(un);return t?Xg():zg()}function zg(){es()||X(!1);let t=b.useContext(La),{basename:e,future:n,navigator:r}=b.useContext(an),{matches:s}=b.useContext(un),{pathname:i}=ts(),o=JSON.stringify(Gh(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return Xh(()=>{l.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=Qh(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ot([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function Zh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(an),{matches:s}=b.useContext(un),{pathname:i}=ts(),o=JSON.stringify(Gh(s,r.v7_relativeSplatPath));return b.useMemo(()=>Qh(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Fg(t,e){return Bg(t,e)}function Bg(t,e,n,r){es()||X(!1);let{navigator:s}=b.useContext(an),{matches:i}=b.useContext(un),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=ts(),d;if(e){var h;let _=typeof e=="string"?Jn(e):e;a==="/"||(h=_.pathname)!=null&&h.startsWith(a)||X(!1),d=_}else d=c;let p=d.pathname||"/",v=p;if(a!=="/"){let _=a.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=pg(t,{pathname:v}),w=qg(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ot([a,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Ot([a,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&w?b.createElement($i.Provider,{value:{location:Hr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:St.Pop}},w):w}function Wg(){let t=Yg(),e=Ig(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const Vg=b.createElement(Wg,null);class Hg extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(un.Provider,{value:this.props.routeContext},b.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kg(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(La);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(un.Provider,{value:e},r)}function qg(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||X(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:v}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let v,y=!1,w=null,_=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||Vg,a&&(c<0&&p===0?(Zg("route-fallback"),y=!0,_=null):c===p&&(y=!0,_=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),m=()=>{let f;return v?f=w:y?f=_:h.route.Component?f=b.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,b.createElement(Kg,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:f})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?b.createElement(Hg,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var ef=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ef||{}),tf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tf||{});function Gg(t){let e=b.useContext(La);return e||X(!1),e}function Qg(t){let e=b.useContext(Dg);return e||X(!1),e}function Jg(t){let e=b.useContext(un);return e||X(!1),e}function nf(t){let e=Jg(),n=e.matches[e.matches.length-1];return n.route.id||X(!1),n.route.id}function Yg(){var t;let e=b.useContext(Yh),n=Qg(),r=nf();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Xg(){let{router:t}=Gg(ef.UseNavigateStable),e=nf(tf.UseNavigateStable),n=b.useRef(!1);return Xh(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hr({fromRouteId:e},i)))},[t,e])}const nc={};function Zg(t,e,n){nc[t]||(nc[t]=!0)}function e0(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vn(t){X(!1)}function t0(t){let{basename:e="/",children:n=null,location:r,navigationType:s=St.Pop,navigator:i,static:o=!1,future:l}=t;es()&&X(!1);let a=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:a,navigator:i,static:o,future:Hr({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=Jn(r));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:y="default"}=r,w=b.useMemo(()=>{let _=Ia(d,a);return _==null?null:{location:{pathname:_,search:h,hash:p,state:v,key:y},navigationType:s}},[a,d,h,p,v,y,s]);return w==null?null:b.createElement(an.Provider,{value:c},b.createElement($i.Provider,{children:n,value:w}))}function n0(t){let{children:e,location:n}=t;return Fg(bl(e),n)}new Promise(()=>{});function bl(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,bl(r.props.children,i));return}r.type!==vn&&X(!1),!r.props.index||!r.props.children||X(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}function r0(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function s0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i0(t,e){return t.button===0&&(!e||e==="_self")&&!s0(t)}const o0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l0="6";try{window.__reactRouterVersion=l0}catch{}const a0="startTransition",rc=Zf[a0];function u0(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=dg({window:s,v5Compat:!0}));let o=i.current,[l,a]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=b.useCallback(h=>{c&&rc?rc(()=>a(h)):a(h)},[a,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>e0(r),[r]),b.createElement(t0,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const c0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:c,preventScrollReset:d,viewTransition:h}=e,p=r0(e,o0),{basename:v}=b.useContext(an),y,w=!1;if(typeof c=="string"&&d0.test(c)&&(y=c,c0))try{let f=new URL(window.location.href),x=c.startsWith("//")?new URL(f.protocol+c):new URL(c),k=Ia(x.pathname,v);x.origin===f.origin&&k!=null?c=k+x.search+x.hash:w=!0}catch{}let _=Ug(c,{relative:s}),g=h0(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:s,viewTransition:h});function m(f){r&&r(f),f.defaultPrevented||g(f)}return b.createElement("a",Nl({},p,{href:y||_,onClick:w||i?r:m,ref:n,target:a}))});var sc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sc||(sc={}));var ic;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ic||(ic={}));function h0(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,a=Mg(),c=ts(),d=Zh(t,{relative:o});return b.useCallback(h=>{if(i0(h,n)){h.preventDefault();let p=r!==void 0?r:di(c)===di(d);a(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,a,d,r,s,n,t,i,o,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(t,e)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>b.createElement("svg",{ref:d,...f0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${p0(t)}`,l].join(" "),...c},[...e.map(([h,p])=>b.createElement(h,p)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=D("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=D("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=D("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=D("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=D("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=D("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=D("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=D("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=D("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=D("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=D("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=D("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),b0=({isOpen:t,onClose:e,onSelectRole:n})=>{if(!t)return null;const r=s=>{n(s),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"glass-primary rounded-2xl w-full max-w-md shadow-2xl",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Switch Dashboard"}),u.jsx("p",{className:"text-sm text-[#D0D8E0]",children:"Choose your dashboard type"})]}),u.jsx("button",{onClick:e,className:"text-[#D0D8E0] hover:text-white transition-colors p-2",children:u.jsx(pi,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>r("member"),className:"w-full bg-gradient-to-r from-[#5BC0CE]/20 to-[#6FFFE9]/20 backdrop-blur-sm border border-[#5BC0CE]/30 rounded-xl p-4 hover:from-[#5BC0CE]/30 hover:to-[#6FFFE9]/30 transition-all duration-300 text-left",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#6FFFE9] to-[#5BC0CE] rounded-xl flex items-center justify-center",children:u.jsx(Tl,{size:24,className:"text-black"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-white",children:"User App"}),u.jsx("p",{className:"text-sm text-[#D0D8E0]",children:"Discover bars and redeem drinks"})]})]})}),u.jsx("button",{onClick:()=>r("bar_owner"),className:"w-full bg-gradient-to-r from-[#5BC0CE]/20 to-[#6FFFE9]/20 backdrop-blur-sm border border-[#5BC0CE]/30 rounded-xl p-4 hover:from-[#5BC0CE]/30 hover:to-[#6FFFE9]/30 transition-all duration-300 text-left",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#5BC0CE] to-[#6FFFE9] rounded-xl flex items-center justify-center",children:u.jsx(rf,{size:24,className:"text-black"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-white",children:"Bar Dashboard"}),u.jsx("p",{className:"text-sm text-[#D0D8E0]",children:"Manage campaigns and analytics"})]})]})}),u.jsx("button",{onClick:()=>r("brand_owner"),className:"w-full bg-gradient-to-r from-[#5BC0CE]/20 to-[#6FFFE9]/20 backdrop-blur-sm border border-[#5BC0CE]/30 rounded-xl p-4 hover:from-[#5BC0CE]/30 hover:to-[#6FFFE9]/30 transition-all duration-300 text-left",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#6FFFE9] to-[#5BC0CE] rounded-xl flex items-center justify-center",children:u.jsx(m0,{size:24,className:"text-black"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-white",children:"Brand Dashboard"}),u.jsx("p",{className:"text-sm text-[#D0D8E0]",children:"Monitor brand performance"})]})]})})]})]})})})},N0=({children:t,onSetUserRole:e})=>{const n=ts(),[r,s]=xe.useState(!1),[i,o]=xe.useState(!1),l=()=>{o(!0)},a=()=>{o(!1)},c=h=>{e&&e(h)},d=[{path:"/",icon:y0,label:"Overview"},{path:"/campaigns",icon:Kr,label:"Campaigns"},{path:"/events",icon:k0,label:"Events"},{path:"/analytics",icon:rf,label:"Analytics"}];return u.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[u.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 safe-area-inset-top shadow-sm",children:[u.jsx("div",{className:"px-4 py-3 lg:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:()=>s(!r),className:"lg:hidden white-secondary white-hover rounded-lg p-2 transition-all duration-300","aria-label":"Toggle menu",children:r?u.jsx(pi,{size:20}):u.jsx(w0,{size:20})}),u.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-cyan-600 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-sm",children:"CRWD"})}),u.jsxs("div",{className:"hidden sm:block lg:block",children:[u.jsx("h1",{className:"text-base lg:text-lg font-bold",children:"CRWD Bar Dashboard"}),u.jsx("p",{className:"text-xs text-gray-500 hidden lg:block",children:"Bar Management Portal"})]})]}),u.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[e&&u.jsx("button",{onClick:l,className:"white-secondary white-hover rounded-lg p-2 transition-all duration-300",title:"Switch Dashboard",children:u.jsx(Tl,{size:16,className:"lg:w-[18px] lg:h-[18px]"})}),u.jsx("button",{className:"white-secondary white-hover rounded-lg p-2 transition-all duration-300 hidden sm:flex",children:u.jsx(uc,{size:16,className:"lg:w-[18px] lg:h-[18px]"})}),u.jsx("button",{className:"white-secondary white-hover rounded-lg p-2 transition-all duration-300 text-red-500",children:u.jsx(x0,{size:16,className:"lg:w-[18px] lg:h-[18px]"})})]})]})}),r&&u.jsx("div",{className:"lg:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200 z-40 shadow-lg",children:u.jsxs("nav",{className:"p-4 space-y-2",children:[d.map(({path:h,icon:p,label:v})=>{const y=n.pathname===h;return u.jsxs(Sr,{to:h,onClick:()=>s(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${y?"white-active text-cyan-700":"white-secondary white-hover text-gray-600 hover:text-gray-900"}`,children:[u.jsx(p,{size:20,strokeWidth:y?2.5:2}),u.jsx("span",{className:`font-medium ${y?"font-semibold":""}`,children:v})]},h)}),u.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[e&&u.jsxs("button",{onClick:()=>{l(),s(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 white-secondary white-hover rounded-xl transition-all duration-300",children:[u.jsx(Tl,{size:20}),u.jsx("span",{className:"font-medium",children:"Switch Dashboard"})]}),u.jsxs("button",{onClick:()=>s(!1),className:"w-full flex items-center space-x-3 px-4 py-3 white-secondary white-hover rounded-xl transition-all duration-300 sm:hidden",children:[u.jsx(uc,{size:20}),u.jsx("span",{className:"font-medium",children:"Settings"})]})]})]})})]}),u.jsxs("div",{className:"flex flex-1 min-h-0",children:[u.jsxs("nav",{className:"hidden lg:flex lg:w-64 bg-white border-r border-gray-200 min-h-screen p-4 flex-col shadow-sm",children:[u.jsx("div",{className:"space-y-2",children:d.map(({path:h,icon:p,label:v})=>{const y=n.pathname===h;return u.jsxs(Sr,{to:h,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${y?"white-active text-cyan-700":"white-secondary white-hover text-gray-600 hover:text-gray-900"}`,children:[u.jsx(p,{size:20,strokeWidth:y?2.5:2}),u.jsx("span",{className:`font-medium ${y?"font-semibold":""}`,children:v})]},h)})}),u.jsxs("div",{className:"mt-8 white-card-secondary rounded-xl p-4 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx("img",{src:"https://images.pexels.com/photos/274192/pexels-photo-274192.jpeg?auto=compress&cs=tinysrgb&w=100",alt:"Bar",className:"w-12 h-12 rounded-lg object-cover"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"Control Club"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Electronic Music Club"})]})]}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Status"}),u.jsx("span",{className:"text-green-600",children:"Active"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500",children:"Today's Tokens"}),u.jsx("span",{className:"text-gray-900 font-medium",children:"47"})]})]})]})]}),u.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 min-w-0 overflow-x-hidden",children:t})]}),u.jsx(b0,{isOpen:i,onClose:a,onSelectRole:c}),u.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-area-inset-bottom z-50 shadow-lg",children:u.jsx("div",{className:"flex justify-around items-center py-2",children:d.map(({path:h,icon:p,label:v})=>{const y=n.pathname===h;return u.jsxs(Sr,{to:h,className:`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 min-w-0 flex-1 ${y?"text-cyan-600":"text-gray-500 hover:text-gray-700"}`,children:[u.jsx(p,{size:20,strokeWidth:y?2.5:2}),u.jsx("span",{className:`text-xs mt-1 font-medium truncate ${y?"font-semibold":""}`,children:v})]},h)})})})]})},C0={},dc=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const v=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,v))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(C0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,a);return a},T0=t=>t?dc(t):dc;var sf={exports:{}},of={},lf={exports:{}},af={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hn=b;function P0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var R0=typeof Object.is=="function"?Object.is:P0,O0=Hn.useState,$0=Hn.useEffect,A0=Hn.useLayoutEffect,I0=Hn.useDebugValue;function L0(t,e){var n=e(),r=O0({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return A0(function(){s.value=n,s.getSnapshot=e,jo(s)&&i({inst:s})},[t,n,e]),$0(function(){return jo(s)&&i({inst:s}),t(function(){jo(s)&&i({inst:s})})},[t]),I0(n),n}function jo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!R0(t,n)}catch{return!0}}function D0(t,e){return e()}var U0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?D0:L0;af.useSyncExternalStore=Hn.useSyncExternalStore!==void 0?Hn.useSyncExternalStore:U0;lf.exports=af;var M0=lf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=b,z0=M0;function F0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var B0=typeof Object.is=="function"?Object.is:F0,W0=z0.useSyncExternalStore,V0=Ii.useRef,H0=Ii.useEffect,K0=Ii.useMemo,q0=Ii.useDebugValue;of.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=V0(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=K0(function(){function a(v){if(!c){if(c=!0,d=v,v=r(v),s!==void 0&&o.hasValue){var y=o.value;if(s(y,v))return h=y}return h=v}if(y=h,B0(d,v))return y;var w=r(v);return s!==void 0&&s(y,w)?(d=v,y):(d=v,h=w)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return a(e())},p===null?void 0:function(){return a(p())}]},[e,n,r,s]);var l=W0(t,i[0],i[1]);return H0(function(){o.hasValue=!0,o.value=l},[l]),q0(l),l};sf.exports=of;var G0=sf.exports;const Q0=Oc(G0),uf={},{useDebugValue:J0}=xe,{useSyncExternalStoreWithSelector:Y0}=Q0;let hc=!1;const X0=t=>t;function Z0(t,e=X0,n){(uf?"production":void 0)!=="production"&&n&&!hc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hc=!0);const r=Y0(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return J0(r),r}const fc=t=>{(uf?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?T0(t):t,n=(r,s)=>Z0(e,r,s);return Object.assign(n,e),n},ev=t=>t?fc(t):fc,cf=ev(t=>({events:{items:[{id:1,name:"Electronic Music Night",date:"2024-01-15",price:15,attendees:120,capacity:150,status:"upcoming",barId:1},{id:2,name:"House Party Weekend",date:"2024-01-20",price:20,attendees:200,capacity:250,status:"upcoming",barId:1}]},reviews:{items:[{id:1,barId:1,userName:"Alex M.",rating:5,comment:"Amazing atmosphere and great drinks!",date:"2024-01-10"},{id:2,barId:1,userName:"Sarah K.",rating:4,comment:"Love the electronic music events",date:"2024-01-08"},{id:3,barId:1,userName:"Mike R.",rating:5,comment:"Best club in the city!",date:"2024-01-05"}]}})),tv=[{id:1,name:"Control Club",description:"Electronic Music Club",image:"https://images.pexels.com/photos/274192/pexels-photo-274192.jpeg",events:[{id:1,name:"Electronic Music Night",date:"2024-01-15"},{id:2,name:"House Party Weekend",date:"2024-01-20"}]}],nv=({onTokenRedeem:t,isValidating:e=!1,validationStatus:n="idle",validationMessage:r=""})=>{const[s,i]=b.useState(!1),[o,l]=b.useState(""),[a,c]=b.useState(!1),d=()=>{o.length>=5&&(t(o),navigator.vibrate&&navigator.vibrate(50))},h=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Voice recognition not supported in this browser");return}const _=window.SpeechRecognition||window.webkitSpeechRecognition,g=new _;g.continuous=!1,g.interimResults=!1,g.lang="en-US",c(!0),g.onresult=m=>{const x=m.results[0][0].transcript.match(/([A-Z0-9]{5,8}|[A-Z0-9]-[A-Z0-9]-[A-Z0-9]-[A-Z0-9]-[A-Z0-9])/i);if(x){const k=x[0].replace(/-/g,"").toUpperCase();l(k),navigator.vibrate&&navigator.vibrate([100,50,100])}c(!1)},g.onerror=()=>{c(!1)},g.start()},p=_=>{const g=_.replace(/[^A-Z0-9]/g,"").toUpperCase().slice(0,8);l(g)},v=()=>{i(!1),l("")},y=()=>{switch(n){case"success":return"text-green-500";case"error":return"text-red-500";default:return"text-gray-400"}},w=()=>{switch(n){case"success":return u.jsx(Cl,{size:20,className:"text-green-500"});case"error":return u.jsx(hi,{size:20,className:"text-red-500"});default:return null}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:u.jsx("button",{onClick:()=>i(!s),className:"w-14 h-14 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center",children:s?u.jsx(pi,{size:24}):u.jsx(S0,{size:24})})}),s&&u.jsxs("div",{className:"fixed bottom-24 right-6 z-50 w-80 bg-gray-900 rounded-xl shadow-2xl border border-gray-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"Token Redemption"}),u.jsx("button",{onClick:v,className:"text-gray-400 hover:text-white transition-colors",children:u.jsx(pi,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter Token Code"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:o,onChange:_=>p(_.target.value),placeholder:"e.g., A1B2C3D4",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-colors",maxLength:8}),u.jsx("button",{onClick:h,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-cyan-500 transition-colors",children:u.jsx(_0,{size:16,className:a?"text-cyan-500 animate-pulse":""})})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length,"/8 characters",a&&" • Listening..."]})]}),n!=="idle"&&u.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${n==="success"?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[w(),u.jsx("span",{className:`text-sm ${y()}`,children:r||(n==="success"?"Token redeemed successfully!":"Invalid token code")})]}),u.jsx("button",{onClick:d,disabled:o.length<5||e||n==="success",className:"w-full bg-gradient-to-r from-cyan-500 to-cyan-600 text-white py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:shadow-lg",children:e?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Validating..."})]}):n==="success"?"Redeemed!":"Redeem Token"}),u.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[u.jsx("p",{children:'💡 Quick tip: Say "Hey CRWD, redeem code Alpha-5-7-2-9"'}),u.jsx("p",{children:"📱 Tap for haptic feedback on successful redemptions"}),u.jsx("p",{children:"🔒 Codes are time-sensitive and location-verified"})]})]})]})]})},js=({title:t,value:e,change:n,trend:r="neutral",icon:s="revenue",subtitle:i,isLoading:o=!1,onClick:l})=>{const a=()=>{switch(s){case"revenue":return u.jsx(fi,{size:24,className:"text-green-600"});case"peak":return u.jsx(sn,{size:24,className:"text-cyan-600"});case"customers":return u.jsx(qr,{size:24,className:"text-purple-600"});case"upsell":return u.jsx(E0,{size:24,className:"text-yellow-600"});default:return u.jsx(fi,{size:24,className:"text-green-600"})}},c=()=>r==="up"?u.jsx(Ai,{size:16,className:"text-green-600"}):r==="down"?u.jsx(j0,{size:16,className:"text-red-600"}):null,d=()=>r==="up"?"text-green-600":r==="down"?"text-red-600":"text-gray-600";return u.jsxs("div",{className:`white-card p-4 lg:p-6 transition-all duration-300 ${l?"cursor-pointer hover:shadow-lg transform hover:scale-105":""}`,onClick:l,children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:a()}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-600",children:t}),i&&u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i})]})]})}),u.jsx("div",{className:"space-y-2",children:o?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:typeof e=="number"?e.toLocaleString():e}),n&&u.jsxs("div",{className:"flex items-center space-x-1",children:[c(),u.jsx("span",{className:`text-sm font-medium ${d()}`,children:n}),u.jsx("span",{className:"text-xs text-gray-500",children:"vs last period"})]})]})})]})},rv=({queue:t=[],inventoryAlerts:e=[],peakHoursPrediction:n=[],isBarOpen:r=!0,onToggleBarStatus:s,onTogglePromotions:i,promotionsEnabled:o=!0})=>{const[l,a]=b.useState("current"),c=t.length>0?t:[{id:"1",tokenCode:"AB5C7",estimatedTime:2,drinkType:"House Beer"},{id:"2",tokenCode:"X9K2L",estimatedTime:5,drinkType:"Signature Cocktail"},{id:"3",tokenCode:"P4M8N",estimatedTime:3,drinkType:"House Wine"}],d=e.length>0?e:[{id:"1",item:"Premium Vodka",currentStock:2,threshold:5,severity:"critical"},{id:"2",item:"House Beer",currentStock:8,threshold:10,severity:"low"}],h=n.length>0?n:[{hour:"20:00",expectedCustomers:45},{hour:"21:00",expectedCustomers:67},{hour:"22:00",expectedCustomers:89},{hour:"23:00",expectedCustomers:102},{hour:"00:00",expectedCustomers:95}],p={current:[{name:"Alex",role:"Bartender",shift:"18:00-02:00",status:"active"},{name:"Sarah",role:"Server",shift:"19:00-01:00",status:"active"}],recommended:[{name:"Alex",role:"Bartender",shift:"18:00-02:00",status:"scheduled"},{name:"Sarah",role:"Server",shift:"19:00-01:00",status:"scheduled"},{name:"Mike",role:"Bartender",shift:"21:00-03:00",status:"needed"}]};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"white-card p-4 lg:p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[u.jsx(ko,{className:"mr-2 text-cyan-600",size:20}),"Quick Controls"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>s==null?void 0:s(!r),className:`flex items-center justify-between p-4 rounded-xl transition-all duration-300 ${r?"bg-green-50 border-2 border-green-200 text-green-700":"bg-red-50 border-2 border-red-200 text-red-700"}`,children:[u.jsx("span",{className:"font-medium",children:"Bar Status"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm",children:r?"Open":"Closed"}),r?u.jsx(cc,{className:"text-green-600",size:20}):u.jsx(ko,{className:"text-red-600",size:20})]})]}),u.jsxs("button",{onClick:()=>i==null?void 0:i(!o),className:`flex items-center justify-between p-4 rounded-xl transition-all duration-300 ${o?"bg-cyan-50 border-2 border-cyan-200 text-cyan-700":"bg-gray-50 border-2 border-gray-200 text-gray-700"}`,children:[u.jsx("span",{className:"font-medium",children:"Promotions"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm",children:o?"Active":"Paused"}),o?u.jsx(cc,{className:"text-cyan-600",size:20}):u.jsx(ko,{className:"text-gray-600",size:20})]})]})]})]}),u.jsxs("div",{className:"white-card p-4 lg:p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[u.jsx(sn,{className:"mr-2 text-cyan-600",size:20}),"Token Queue (",c.length," pending)"]}),u.jsxs("div",{className:"space-y-3",children:[c.map(v=>u.jsxs("div",{className:"flex items-center justify-between white-card-secondary rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-cyan-100 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-cyan-700 font-mono text-sm",children:v.tokenCode})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:v.drinkType}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Token: ",v.tokenCode]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-medium text-cyan-600",children:["~",v.estimatedTime," min"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Est. wait"})]})]},v.id)),c.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(sn,{size:32,className:"mx-auto mb-2 opacity-50"}),u.jsx("p",{children:"No pending redemptions"})]})]})]}),u.jsxs("div",{className:"white-card p-4 lg:p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[u.jsx(hi,{className:"mr-2 text-yellow-600",size:20}),"Inventory Alerts (",d.length,")"]}),u.jsx("div",{className:"space-y-3",children:d.map(v=>u.jsxs("div",{className:`flex items-center justify-between rounded-lg p-3 ${v.severity==="critical"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(hi,{size:20,className:v.severity==="critical"?"text-red-600":"text-yellow-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:v.item}),u.jsxs("p",{className:"text-xs text-gray-600",children:[v.currentStock," remaining (threshold: ",v.threshold,")"]})]})]}),u.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${v.severity==="critical"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:v.severity==="critical"?"CRITICAL":"LOW"})]},v.id))})]}),u.jsxs("div",{className:"white-card p-4 lg:p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[u.jsx(qr,{className:"mr-2 text-purple-600",size:20}),"Peak Hours Prediction"]}),u.jsx("div",{className:"grid grid-cols-5 gap-2 lg:gap-4",children:h.map(v=>u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:`p-2 lg:p-3 rounded-lg mb-2 ${v.expectedCustomers>80?"bg-red-100 text-red-700":v.expectedCustomers>50?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:[u.jsx("p",{className:"text-lg lg:text-xl font-bold",children:v.expectedCustomers}),u.jsx("p",{className:"text-xs",children:"customers"})]}),u.jsx("p",{className:"text-xs text-gray-600",children:v.hour})]},v.hour))})]}),u.jsxs("div",{className:"white-card p-4 lg:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[u.jsx(Kr,{className:"mr-2 text-green-600",size:20}),"Staff Schedule"]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>a("current"),className:`px-3 py-1 rounded text-sm ${l==="current"?"bg-cyan-100 text-cyan-700":"text-gray-600"}`,children:"Current"}),u.jsx("button",{onClick:()=>a("recommended"),className:`px-3 py-1 rounded text-sm ${l==="recommended"?"bg-cyan-100 text-cyan-700":"text-gray-600"}`,children:"Recommended"})]})]}),u.jsx("div",{className:"space-y-3",children:p[l].map((v,y)=>u.jsxs("div",{className:"flex items-center justify-between white-card-secondary rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${v.status==="active"?"bg-green-100 text-green-700":v.status==="scheduled"?"bg-cyan-100 text-cyan-700":"bg-yellow-100 text-yellow-700"}`,children:u.jsx("span",{className:"text-sm font-bold",children:v.name.charAt(0)})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:v.name}),u.jsx("p",{className:"text-xs text-gray-500",children:v.role})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm font-medium",children:v.shift}),u.jsx("span",{className:`text-xs px-2 py-1 rounded ${v.status==="active"?"bg-green-100 text-green-700":v.status==="scheduled"?"bg-cyan-100 text-cyan-700":"bg-yellow-100 text-yellow-700"}`,children:v.status})]})]},y))})]})]})},sv=({barId:t})=>{const{events:e}=cf(),n=b.useMemo(()=>e.items.filter(i=>i.barId===t),[e.items,t]),r=b.useMemo(()=>{const i=new Date,o=new Date(i.getFullYear(),i.getMonth(),1),l=new Date(i.getFullYear(),i.getMonth()-1,1),a=n.filter(f=>new Date(f.date)>=i),c=n.filter(f=>f.status==="ongoing"),d=n.filter(f=>new Date(f.date)>=o),h=n.filter(f=>{const x=new Date(f.date);return x>=l&&x<o}),p=n.reduce((f,x)=>f+x.attendees,0),v=n.reduce((f,x)=>f+x.price*x.attendees,0),y=d.reduce((f,x)=>f+x.price*x.attendees,0),w=h.reduce((f,x)=>f+x.price*x.attendees,0),_=n.length>0?n.reduce((f,x)=>f+x.attendees/x.capacity,0)/n.length*100:0,g=w>0?(y-w)/w*100:y>0?100:0,m=h.length>0?(d.length-h.length)/h.length*100:d.length>0?100:0;return{total:n.length,upcoming:a.length,ongoing:c.length,totalAttendees:p,totalRevenue:v,thisMonthRevenue:y,revenueGrowth:g,eventGrowth:m,avgAttendanceRate:_,thisMonthEvents:d.length}},[n]),s=i=>`${i>=0?"+":""}${i.toFixed(1)}%`;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Events Overview"}),u.jsx(Sr,{to:"/events",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Manage Events →"})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:u.jsx(Kr,{size:20,className:"text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.total})]})]})}),u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:u.jsx(sn,{size:20,className:"text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.upcoming})]})]})}),u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:u.jsx(qr,{size:20,className:"text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Attendees"}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.totalAttendees})]})]})}),u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u.jsx(fi,{size:20,className:"text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"}),u.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",r.totalRevenue]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"font-medium text-gray-800",children:"This Month"}),u.jsx(Ai,{size:16,className:"text-gray-400"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Events"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"font-medium",children:r.thisMonthEvents}),u.jsx("span",{className:`text-xs ${r.eventGrowth>=0?"text-green-600":"text-red-600"}`,children:s(r.eventGrowth)})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Revenue"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("span",{className:"font-medium",children:["$",r.thisMonthRevenue]}),u.jsx("span",{className:`text-xs ${r.revenueGrowth>=0?"text-green-600":"text-red-600"}`,children:s(r.revenueGrowth)})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"font-medium text-gray-800",children:"Attendance Rate"}),u.jsx(qr,{size:16,className:"text-gray-400"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Average"}),u.jsxs("span",{className:"font-medium",children:[r.avgAttendanceRate.toFixed(1),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(r.avgAttendanceRate,100)}%`}})})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"font-medium text-gray-800",children:"Event Status"}),u.jsx(sn,{size:16,className:"text-gray-400"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Upcoming"}),u.jsx("span",{className:"font-medium",children:r.upcoming})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Ongoing"}),u.jsx("span",{className:"font-medium text-green-600",children:r.ongoing})]})]})]})]}),r.total===0&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Kr,{size:20,className:"text-blue-600"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-blue-900",children:"Ready to create your first event?"}),u.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Start engaging your customers with exciting events"}),u.jsx(Sr,{to:"/events",className:"inline-flex items-center gap-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:"Create Event"})]})]})})]})},iv="modulepreload",ov=function(t){return"/"+t},pc={},ns=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=ov(a),a in pc)return;pc[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":iv,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},lv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ns(async()=>{const{default:r}=await Promise.resolve().then(()=>Yn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Da extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class av extends Da{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mc extends Da{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gc extends Da{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pl||(Pl={}));var uv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class cv{constructor(e,{headers:n={},customFetch:r,region:s=Pl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=lv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return uv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new av(w)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new mc(h);if(!h.ok)throw new gc(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof gc||s instanceof mc?s.context:void 0}}})}}var _e={},Ua={},Li={},rs={},Di={},Ui={},dv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kn=dv();const hv=Kn.fetch,df=Kn.fetch.bind(Kn),hf=Kn.Headers,fv=Kn.Request,pv=Kn.Response,Yn=Object.freeze(Object.defineProperty({__proto__:null,Headers:hf,Request:fv,Response:pv,default:df,fetch:hv},Symbol.toStringTag,{value:"Module"})),mv=Df(Yn);var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});let gv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Mi.default=gv;var ff=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});const vv=ff(mv),yv=ff(Mi);let xv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,v="OK")}catch{i.status===404&&w===""?(p=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new yv.default(c)}return{error:c,data:d,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ui.default=xv;var wv=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Di,"__esModule",{value:!0});const _v=wv(Ui);let kv=class extends _v.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Di.default=kv;var Sv=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});const jv=Sv(Di);let Ev=class extends jv.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};rs.default=Ev;var bv=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const ar=bv(rs);let Nv=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ar.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new ar.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ar.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ar.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ar.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Li.default=Nv;var zi={},Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.version=void 0;Fi.version="0.0.0-automated";Object.defineProperty(zi,"__esModule",{value:!0});zi.DEFAULT_HEADERS=void 0;const Cv=Fi;zi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Cv.version}`};var pf=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ua,"__esModule",{value:!0});const Tv=pf(Li),Pv=pf(rs),Rv=zi;let Ov=class mf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Rv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Tv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new mf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Pv.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Ua.default=Ov;var Xn=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const gf=Xn(Ua);_e.PostgrestClient=gf.default;const vf=Xn(Li);_e.PostgrestQueryBuilder=vf.default;const yf=Xn(rs);_e.PostgrestFilterBuilder=yf.default;const xf=Xn(Di);_e.PostgrestTransformBuilder=xf.default;const wf=Xn(Ui);_e.PostgrestBuilder=wf.default;const _f=Xn(Mi);_e.PostgrestError=_f.default;var $v=_e.default={PostgrestClient:gf.default,PostgrestQueryBuilder:vf.default,PostgrestFilterBuilder:yf.default,PostgrestTransformBuilder:xf.default,PostgrestBuilder:wf.default,PostgrestError:_f.default};const{PostgrestClient:Av,PostgrestQueryBuilder:Ox,PostgrestFilterBuilder:$x,PostgrestTransformBuilder:Ax,PostgrestBuilder:Ix,PostgrestError:Lx}=$v;class Iv{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Lv="2.15.1",Dv=`realtime-js/${Lv}`,Uv="1.0.0",Rl=1e4,Mv=1e3,zv=100;var jr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jr||(jr={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var Ve;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ve||(Ve={}));var Ol;(function(t){t.websocket="websocket"})(Ol||(Ol={}));var qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qt||(qt={}));class Fv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class kf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var M;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(M||(M={}));const vc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Bv(o,t,e,s),i),{})},Bv=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Sf(i,o):$l(o)},Sf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Kv(e,n)}switch(t){case M.bool:return Wv(e);case M.float4:case M.float8:case M.int2:case M.int4:case M.int8:case M.numeric:case M.oid:return Vv(e);case M.json:case M.jsonb:return Hv(e);case M.timestamp:return qv(e);case M.abstime:case M.date:case M.daterange:case M.int4range:case M.int8range:case M.money:case M.reltime:case M.text:case M.time:case M.timestamptz:case M.timetz:case M.tsrange:case M.tstzrange:return $l(e);default:return $l(e)}},$l=t=>t,Wv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Kv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Sf(e,l))}return t},qv=t=>typeof t=="string"?t.replace(" ","T"):t,jf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Eo{constructor(e,n,r={},s=Rl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yc||(yc={}));class Er{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Er.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Er.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Er.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),y=d.filter(_=>v.indexOf(_.presence_ref)<0),w=h.filter(_=>p.indexOf(_.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(a[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...p)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xc||(xc={}));var br;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(br||(br={}));var nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nt||(nt={}));class Ma{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new kf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Er(this),this.broadcastEndpointURL=jf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,a=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[br.PRESENCE]&&this.bindings[br.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:a,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(nt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(nt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(nt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,_=[];for(let g=0;g<w;g++){const m=y[g],{filter:{event:f,schema:x,table:k,filter:j}}=m,E=p&&p[g];if(E&&E.event===f&&E.schema===x&&E.table===k&&E.filter===j)_.push(Object.assign(Object.assign({},m),{id:E.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(nt.SUBSCRIBED);return}}).receive("error",p=>{this.state=ee.errored,e==null||e(nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ee.joined&&e===br.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Eo(this,Ve.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Ve;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,_,g,m,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const x=v.id,k=(y=v.filter)===null||y===void 0?void 0:y.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:_,commit_timestamp:g,type:m,errors:f}=y;p=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:m,new:{},old:{},errors:f}),this._getPayloadRecords(y))}v.callback(p,r)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ma.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ve.close,{},e)}_onError(e){this._on(Ve.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vc(e.columns,e.old_record)),n}}const wc=()=>{},Es={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gv=[1e3,2e3,5e3,1e4],Qv=1e4,Jv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yv{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rl,this.transport=null,this.heartbeatIntervalMs=Es.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wc,this.ref=0,this.reconnectTimer=null,this.logger=wc,this.conn=null,this.sendBuffer=[],this.serializer=new Fv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ns(async()=>{const{default:l}=await Promise.resolve().then(()=>Yn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ol.websocket}`,this.httpEndpoint=jf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Iv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Uv}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jr.connecting:return qt.Connecting;case jr.open:return qt.Open;case jr.closing:return qt.Closing;default:return qt.Closed}}isConnected(){return this.connectionState()===qt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Ma(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Mv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Es.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ve.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Jv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Dv};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ve.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new kf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Es.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Rl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Es.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>Gv[d-1]||Qv,this.encode=(a=e==null?void 0:e.encode)!==null&&a!==void 0?a:(d,h)=>h(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class za extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Xv extends za{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Al extends za{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Zv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ns(async()=>{const{default:r}=await Promise.resolve().then(()=>Yn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ey=()=>Zv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ns(()=>Promise.resolve().then(()=>Yn),void 0)).Response:Response}),Il=t=>{if(Array.isArray(t))return t.map(n=>Il(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Il(r)}),e},ty=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var cn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const bo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ny=(t,e,n)=>cn(void 0,void 0,void 0,function*(){const r=yield ey();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Xv(bo(s),i,o))}).catch(s=>{e(new Al(bo(s),s))}):e(new Al(bo(t),t))}),ry=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(ty(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function ss(t,e,n,r,s,i){return cn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,ry(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>ny(a,l,r))})})}function mi(t,e,n,r){return cn(this,void 0,void 0,function*(){return ss(t,"GET",e,n,r)})}function rt(t,e,n,r,s){return cn(this,void 0,void 0,function*(){return ss(t,"POST",e,r,s,n)})}function Ll(t,e,n,r,s){return cn(this,void 0,void 0,function*(){return ss(t,"PUT",e,r,s,n)})}function sy(t,e,n,r){return cn(this,void 0,void 0,function*(){return ss(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function bf(t,e,n,r,s){return cn(this,void 0,void 0,function*(){return ss(t,"DELETE",e,r,s,n)})}var ye=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const iy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oy{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ef(s)}uploadOrUpdate(e,n,r,s){return ye(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_c),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?Ll:rt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:_c.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Ll(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new za("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(e,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ye(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ye(this,void 0,void 0,function*(){try{const s=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}download(e,n){return ye(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield mi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}})}info(e){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Il(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(e){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield sy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof Al){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return ye(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}list(e,n,r){return ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},iy),n),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const ly="2.10.4",ay={"X-Client-Info":`storage-js/${ly}`};var hn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class uy{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ay),n),this.fetch=Ef(r)}listBuckets(){return hn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return hn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return hn(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}}class cy extends uy{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new oy(this.url,this.headers,e,this.fetch)}}const dy="2.55.0";let fr="";typeof Deno<"u"?fr="deno":typeof document<"u"?fr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fr="react-native":fr="node";const hy={"X-Client-Info":`supabase-js-${fr}/${dy}`},fy={headers:hy},py={schema:"public"},my={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gy={};var vy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const yy=t=>{let e;return t?e=t:typeof fetch>"u"?e=df:e=fetch,(...n)=>e(...n)},xy=()=>typeof Headers>"u"?hf:Headers,wy=(t,e,n)=>{const r=yy(n),s=xy();return(i,o)=>vy(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var _y=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function ky(t){return t.endsWith("/")?t:t+"/"}function Sy(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>_y(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Nf="2.71.1",yn=30*1e3,Dl=3,No=Dl*yn,jy="http://localhost:9999",Ey="supabase.auth.token",by={"X-Client-Info":`gotrue-js/${Nf}`},Ul="X-Supabase-Api-Version",Cf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ny=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cy=10*60*1e3;class Fa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ty extends Fa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Py(t){return R(t)&&t.name==="AuthApiError"}class Tf extends Fa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ut extends Fa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mt extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ry(t){return R(t)&&t.name==="AuthSessionMissingError"}class bs extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cs extends Ut{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Oy(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class kc extends Ut{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ml extends Ut{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Co(t){return R(t)&&t.name==="AuthRetryableFetchError"}class Sc extends Ut{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class zl extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),$y=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jc.length;e+=1)t[jc[e].charCodeAt(0)]=-2;for(let e=0;e<gi.length;e+=1)t[gi[e].charCodeAt(0)]=e;return t})();function Ec(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gi[r]),e.queuedBits-=6}}function Pf(t,e,n){const r=$y[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ly(o,r,n)};for(let o=0;o<t.length;o+=1)Pf(t.charCodeAt(o),s,i);return e.join("")}function Ay(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Iy(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Ay(r,e)}}function Ly(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Dy(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Pf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Uy(t){const e=[];return Iy(t,n=>e.push(n)),new Uint8Array(e)}function My(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ec(s,n,r)),Ec(null,n,r),e.join("")}function zy(t){return Math.round(Date.now()/1e3)+t}function Fy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},Rf=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function By(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Of=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ns(async()=>{const{default:r}=await Promise.resolve().then(()=>Yn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Wy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Bt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pt=async(t,e)=>{await t.removeItem(e)};class Bi{constructor(){this.promise=new Bi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Bi.promiseConstructor=Promise;function To(t){const e=t.split(".");if(e.length!==3)throw new zl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ny.test(e[r]))throw new zl("JWT not in base64url format");return{header:JSON.parse(bc(e[0])),payload:JSON.parse(bc(e[1])),signature:Dy(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hy(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Ky(t){return("0"+t.toString(16)).substr(-2)}function qy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Ky).join("")}async function Gy(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Gy(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fn(t,e,n=!1){const r=qy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await xn(t,`${e}-code-verifier`,s);const i=await Qy(r);return[i,r===i?"plain":"s256"]}const Jy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yy(t){const e=t.headers.get(Ul);if(!e||!e.match(Jy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ex=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pn(t){if(!ex.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Po(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nc(t){return JSON.parse(JSON.stringify(t))}var tx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Kt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nx=[502,503,504];async function Cc(t){var e;if(!Wy(t))throw new Ml(Kt(t),0);if(nx.includes(t.status))throw new Ml(Kt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Tf(Kt(i),i)}let r;const s=Yy(t);if(s&&s.getTime()>=Cf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sc(Kt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sc(Kt(n),t.status,n.weak_password.reasons);throw new Ty(Kt(n),t.status||500,r)}const rx=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function A(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ul]||(i[Ul]=Cf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await sx(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function sx(t,e,n,r,s,i){const o=rx(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new Ml(Kt(a),0)}if(l.ok||await Cc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Cc(a)}}function et(t){var e;let n=null;ax(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=zy(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Tc(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ix(t){return{data:t,error:null}}function ox(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=tx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function lx(t){return t}function ax(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ro=["global","local","others"];var ux=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class cx{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Of(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ro[0]){if(Ro.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ux(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ox,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lx});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);c[`${_}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){pn(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){pn(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:wt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){pn(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:wt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){pn(e.userId);try{const{data:n,error:r}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(e){pn(e.userId),pn(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}function Pc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function dx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mn={debug:!!(globalThis&&Rf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $f extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hx extends $f{}async function fx(t,e,n){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}dx();const px={url:jy,storageKey:Ey,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:by,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rc(t,e,n){return await n()}const gn={};class Gr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gr.nextInstanceID,Gr.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},px),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new cx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Of(s.fetch),this.lock=s.lock||Rc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fx:this.lock=Rc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Pc(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=gn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=gn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=By(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Oy(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new Tf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:et}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await fn(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:et})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:et})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Tc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Tc})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new bs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,p,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:_,wallet:g,statement:m,options:f}=e;let x;if(Fe())if(typeof g=="object")x=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))x=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const k=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const j=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=f==null?void 0:f.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:_,error:g}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:My(w)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:et});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new bs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(R(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Bt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:et});if(await pt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:et}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new bs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await fn(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ns("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:et});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await fn(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ix})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mt;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await A(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await A(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ns("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Bt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<No:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Bt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Po()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(n){if(R(n))return Ry(n)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await fn(this.storage,this.storageKey));const{data:c,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:wt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=To(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Fe())throw new Cs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kc("No code detected.");const{data:m,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new Cs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;a&&(p=parseInt(a));const v=p-d;v*1e3<=yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Bt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Py(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Fy(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await fn(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Hy(async s=>(s>0&&await Vy(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Co(i)&&Date.now()+o-r<yn})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Fe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Bt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Bt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await xn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Po()}else if(s&&!s.user&&!s.user){const o=await Bt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await pt(this.storage,this.storageKey+"-user"),await xn(this.storage,this.storageKey,s)):s.user=Po()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<No;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${No}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Co(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return Co(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Nc(s);await xn(this.storage,this.storageKey,i)}else{const s=Nc(n);await xn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yn}ms, refresh threshold is ${Dl} ticks`),s<=Dl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $f)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await fn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=To(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Cy>s)return r;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=To(r);n!=null&&n.allowExpired||Xy(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Zy(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Uy(`${l}.${a}`)))throw new zl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}Gr.nextInstanceID=0;const mx=Gr;class gx extends mx{constructor(e){super(e)}}var vx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class yx{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=ky(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:py,realtime:gy,auth:Object.assign(Object.assign({},my),{storageKey:c}),global:fy},h=Sy(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=wy(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Av(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new cy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new cv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return vx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gx({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Yv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xx=(t,e,n)=>new yx(t,e,n);function wx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _x=void 0,kx=void 0,Wt=xx(_x,kx),Af={async getUserTokens(t){const{data:e,error:n}=await Wt.from("user_tokens").select("*").eq("user_id",t).eq("is_used",!1).gt("expires_at",new Date().toISOString());if(n)throw n;return e},async checkAndResetTokens(t){const{error:e}=await Wt.rpc("check_and_reset_tokens",{user_uuid:t});if(e)throw e},async generateTokenCode(t,e,n){var r,s;try{const i=await this.getBar(e);if(!i)throw new Error("Bar not found");const o=this.calculateDistance(n,{lat:i.location_lat,lng:i.location_lng}),l=((r=i.token_limits)==null?void 0:r.minimum_distance_meters)||100;if(o>l)throw new Error(`Must be within ${l}m of ${i.name} to generate token`);const a=await this.getUserDailyUsage(t,e),c=((s=i.token_limits)==null?void 0:s.daily_token_limit)||2;if(a>=c)throw new Error(`Daily token limit (${c}) reached for ${i.name}`);const{data:d,error:h}=await Wt.rpc("generate_token_code",{user_uuid:t,bar_uuid:e});if(h)throw h;return d}catch{return console.log("Database tables not found, using mock implementation for testing"),this.generateMockTokenCode()}},async redeemTokenCode(t,e){try{const{data:n,error:r}=await Wt.rpc("redeem_token_code",{code_text:t,redeemed_by_uuid:e});if(r)throw r;return n}catch{return console.log("Database tables not found, using mock implementation for testing"),this.mockRedeemTokenCode(t)}},async getBar(t){try{const{data:e,error:n}=await Wt.from("bars").select(`
          *,
          token_limits (
            daily_token_limit,
            weekly_token_limit,
            allow_daily_tokens,
            allow_weekly_tokens,
            minimum_distance_meters
          )
        `).eq("id",t).single();if(n)throw n;return e}catch{return console.log("Bars table not found, using mock bar data"),this.getMockBar(t)}},async getUserDailyUsage(t,e){try{const n=new Date().toISOString().split("T")[0],{data:r,error:s}=await Wt.from("user_daily_usage").select("daily_tokens_used").eq("user_id",t).eq("bar_id",e).eq("date",n).single();if(s&&s.code!=="PGRST116")throw s;return(r==null?void 0:r.daily_tokens_used)||0}catch{return console.log("User daily usage table not found, using mock data"),this.getMockUserDailyUsage(t,e)}},async updateUserDailyUsage(t,e){try{const n=new Date().toISOString().split("T")[0],{error:r}=await Wt.from("user_daily_usage").upsert({user_id:t,bar_id:e,date:n,daily_tokens_used:1},{onConflict:"user_id,bar_id,date"});if(r)throw r}catch{console.log("User daily usage table not found, skipping update")}},calculateDistance(t,e){const r=t.lat*Math.PI/180,s=e.lat*Math.PI/180,i=(e.lat-t.lat)*Math.PI/180,o=(e.lng-t.lng)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(r)*Math.cos(s)*Math.sin(o/2)*Math.sin(o/2);return 6371e3*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},generateMockTokenCode(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},mockRedeemTokenCode(t){return{success:!0,drink_name:"Mock Drink",original_price:12,discounted_price:6,token_type:"daily",message:"Token redeemed successfully (mock)"}},getMockBar(t){return{id:t,name:"Control Club",location_lat:44.4268,location_lng:26.1025,token_limits:{daily_token_limit:2,weekly_token_limit:1,minimum_distance_meters:100}}},getMockUserDailyUsage(t,e){return Math.floor(Math.random()*2)}},Sx=()=>{const{reviews:t}=cf(),e=tv.find(N=>N.id===1),n=t.items.filter(N=>N.barId===1),[r,s]=xe.useState(!1),[i,o]=xe.useState(""),[l,a]=xe.useState(!1),[c,d]=xe.useState("idle"),[h,p]=xe.useState(""),[v,y]=xe.useState(!1),[w,_]=xe.useState(!0),[g,m]=xe.useState(!0),[f,x]=xe.useState("overview"),k={drinksServed:23,redemptionRate:49,newCustomers:8,revenue:2850.5,averageOrderValue:23.75,peakHourRevenue:450.25,customerLifetimeValue:156.8,upsellOpportunities:12},j=[{id:1,drink:"House Beer",time:"2 min ago"},{id:2,drink:"Signature Cocktail",time:"15 min ago"},{id:3,drink:"House Wine",time:"32 min ago"},{id:4,drink:"Craft Beer",time:"1 hour ago"}];[...((e==null?void 0:e.events)||[]).map(N=>({id:N.id,name:N.name,date:N.date,time:"10:00 PM"}))];const E=n.slice(0,5).map(N=>({id:N.id,customerName:N.userName,rating:N.rating,message:N.comment,date:new Date(N.date).toLocaleDateString()})),P=N=>{const Z=N.replace(/[^A-Z0-9]/g,"").toUpperCase().slice(0,5);o(Z),c!=="idle"&&(d("idle"),p(""))},W=async N=>{const Z=N||i;if(!(Z.length<5)){a(!0),d("idle");try{const Oe=await Af.redeemTokenCode(Z,"bartender_123");d("success"),p(`Token redeemed successfully! ${Oe.drink_name} - €${Oe.discounted_price}`),k.drinksServed+=1,k.revenue+=Oe.discounted_price,navigator.vibrate&&navigator.vibrate([200,100,200]),setTimeout(()=>{o(""),d("idle"),p(""),s(!1)},3e3)}catch(Oe){d("error"),p(Oe instanceof Error?Oe.message:"Invalid or expired token. Please ask customer to regenerate.")}finally{a(!1)}}};return u.jsxs("div",{className:"space-y-4 lg:space-y-6 pb-20 lg:pb-0",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl lg:text-2xl font-bold",children:"Dashboard Overview"}),u.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Welcome back! Here's what's happening at your bar today."})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>x("overview"),className:`px-3 py-1 rounded text-sm transition-all ${f==="overview"?"bg-white shadow text-cyan-600":"text-gray-600"}`,children:"Overview"}),u.jsx("button",{onClick:()=>x("operations"),className:`px-3 py-1 rounded text-sm transition-all ${f==="operations"?"bg-white shadow text-cyan-600":"text-gray-600"}`,children:"Operations"})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-xs lg:text-sm text-gray-500",children:[u.jsx(sn,{size:16}),u.jsx("span",{children:"2 min ago"})]})]})]}),u.jsxs("div",{className:"white-card rounded-xl p-4 lg:p-6 border-2 border-cyan-200",children:[u.jsx("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 lg:p-3 bg-cyan-100 rounded-lg",children:u.jsx(So,{className:"text-cyan-600",size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-base lg:text-lg font-semibold",children:"Token Redemption"}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Enter customer's 5-digit code"})]})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Customer Code"}),u.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[u.jsx("input",{type:"text",value:i,onChange:N=>P(N.target.value),placeholder:"Enter 5-digit code",className:`flex-1 bg-gray-800 border rounded-lg px-3 lg:px-4 py-2 lg:py-3 text-white text-center text-base lg:text-lg font-mono tracking-wider focus:outline-none focus:ring-2 ${c==="error"?"border-red-400 focus:ring-red-400":c==="success"?"border-cyan-400 focus:ring-cyan-400":"border-gray-300 focus:ring-cyan-500"}`,maxLength:5,disabled:l||c==="success"}),u.jsx("button",{onClick:W,disabled:i.length!==5||l||c==="success",className:"white-button-primary px-4 lg:px-6 py-2 lg:py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 min-h-[44px]",children:l?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Validating..."})]}):c==="success"?u.jsxs(u.Fragment,{children:[u.jsx(oc,{size:16}),u.jsx("span",{children:"Claimed!"})]}):u.jsxs(u.Fragment,{children:[u.jsx(So,{size:16}),u.jsx("span",{children:"Claim"})]})})]}),u.jsxs("p",{className:"text-xs text-[#D0D8E0] mt-1",children:[i.length,"/5 characters"]})]}),h&&u.jsx("div",{className:`p-3 rounded-lg border text-sm ${c==="success"?"bg-cyan-50 border-cyan-200":"bg-red-50 border-red-200"}`,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[c==="success"?u.jsx(oc,{className:"text-cyan-600",size:16}):u.jsx(wo,{className:"text-red-500",size:16}),u.jsx("span",{className:`text-sm font-medium ${c==="success"?"text-cyan-700":"text-red-700"}`,children:h})]})}),u.jsx("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-3 lg:block hidden",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx(wo,{className:"text-cyan-600 mt-0.5",size:16}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-cyan-700 text-sm mb-1",children:"Quick Guide:"}),u.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[u.jsx("li",{children:"• Ask customer to show their 5-digit code"}),u.jsx("li",{children:'• Enter the code and click "Claim"'}),u.jsx("li",{children:"• Serve the drink after successful validation"})]})]})]})}),u.jsxs("div",{className:"lg:hidden",children:[u.jsxs("button",{onClick:()=>y(!v),className:"w-full text-left text-sm text-cyan-600 font-medium",children:[v?"Hide":"Show"," Quick Guide"]}),v&&u.jsx("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-3 mt-2",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx(wo,{className:"text-cyan-600 mt-0.5",size:16}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-cyan-700 text-sm mb-1",children:"Quick Guide:"}),u.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[u.jsx("li",{children:"• Ask customer to show their 5-digit code"}),u.jsx("li",{children:'• Enter the code and click "Claim"'}),u.jsx("li",{children:"• Serve the drink after successful validation"})]})]})]})})]})]})]}),f==="overview"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(js,{title:"Today's Revenue",value:`$${k.revenue.toFixed(2)}`,change:"+18%",trend:"up",icon:"revenue",subtitle:"From token redemptions"}),u.jsx(js,{title:"Peak Hour Revenue",value:`$${k.peakHourRevenue.toFixed(2)}`,change:"+25%",trend:"up",icon:"peak",subtitle:"22:00-23:00 highest"}),u.jsx(js,{title:"Customer LTV",value:`$${k.customerLifetimeValue.toFixed(0)}`,change:"+12%",trend:"up",icon:"customers",subtitle:"Average per customer"}),u.jsx(js,{title:"Upsell Opportunities",value:k.upsellOpportunities,change:"8 potential",trend:"neutral",icon:"upsell",subtitle:"Premium drinks suggested",onClick:()=>alert("Show upselling opportunities")})]}),u.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[u.jsxs("div",{className:"white-card rounded-xl p-4 lg:p-6",children:[u.jsx("h2",{className:"text-base lg:text-lg font-semibold mb-4",children:"Quick Actions"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:gap-4",children:[u.jsxs("button",{className:"white-card-secondary white-hover rounded-lg p-3 lg:p-4 text-center transition-all duration-300 min-h-[80px] lg:min-h-[100px] flex flex-col items-center justify-center",children:[u.jsx(Kr,{className:"mx-auto mb-2 text-cyan-600",size:24}),u.jsx("span",{className:"text-xs lg:text-sm font-medium",children:"New Campaign"})]}),u.jsxs("button",{className:"white-card-secondary white-hover rounded-lg p-3 lg:p-4 text-center transition-all duration-300 min-h-[80px] lg:min-h-[100px] flex flex-col items-center justify-center",children:[u.jsx(Ai,{className:"mx-auto mb-2 text-cyan-500",size:24}),u.jsx("span",{className:"text-xs lg:text-sm font-medium",children:"View Analytics"})]})]})]}),u.jsxs("div",{className:"white-card rounded-xl p-4 lg:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[u.jsx("h2",{className:"text-base lg:text-lg font-semibold",children:"Recent Redemptions"}),u.jsx("button",{className:"text-cyan-600 text-xs lg:text-sm hover:text-cyan-700 transition-colors",children:"View All"})]}),u.jsx("div",{className:"space-y-3 lg:space-y-4",children:j.map(N=>u.jsxs("div",{className:"flex items-center justify-between white-card-secondary rounded-lg p-3 min-h-[44px]",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 lg:w-8 h-6 lg:h-8 bg-gradient-to-r from-cyan-500 to-cyan-600 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx(So,{size:16,className:"text-white"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"font-medium text-sm truncate",children:N.drink}),u.jsx("p",{className:"text-xs text-gray-500",children:"Served"})]})]}),u.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:N.time})]},N.id))})]}),u.jsx("div",{className:"white-card rounded-xl p-4 lg:p-6",children:u.jsx(sv,{barId:1})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[u.jsxs("div",{className:"white-card rounded-xl p-4 lg:p-6",children:[u.jsx("h2",{className:"text-base lg:text-lg font-semibold mb-4",children:"Today's Performance"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xl lg:text-2xl font-bold text-cyan-600",children:k.drinksServed}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Drinks Served"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-cyan-500",children:[k.redemptionRate,"%"]}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Success Rate"})]})]})]}),u.jsxs("div",{className:"white-card rounded-xl p-4 lg:p-6",children:[u.jsx("h2",{className:"text-base lg:text-lg font-semibold mb-4",children:"Bar Status"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 lg:gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),u.jsx("span",{className:"text-green-600 font-medium text-sm lg:text-base",children:"Open"})]}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Until 3:00 AM"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx(lc,{className:"text-cyan-600",size:16}),u.jsx("span",{className:"font-medium text-sm lg:text-base",children:"High Traffic"})]}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Peak hours active"})]}),u.jsxs("div",{className:"text-center sm:col-span-3 lg:col-span-1",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx(_o,{className:"text-yellow-500",size:16}),u.jsx("span",{className:"font-medium text-sm lg:text-base",children:"4.8 Rating"})]}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"324 reviews"})]})]})]})]}),u.jsxs("div",{className:"lg:hidden white-card rounded-xl p-4",children:[u.jsx("h2",{className:"text-base font-semibold mb-3",children:"Bar Status"}),u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),u.jsx("span",{className:"text-green-600 font-medium text-xs",children:"Open"})]}),u.jsx("p",{className:"text-xs text-gray-600",children:"Until 3:00 AM"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx(lc,{className:"text-cyan-600",size:14}),u.jsx("span",{className:"font-medium text-xs",children:"High"})]}),u.jsx("p",{className:"text-xs text-gray-600",children:"Traffic"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx(_o,{className:"text-yellow-500",size:14}),u.jsx("span",{className:"font-medium text-xs",children:"4.8"})]}),u.jsx("p",{className:"text-xs text-gray-600",children:"Rating"})]})]})]}),u.jsxs("div",{className:"white-card rounded-xl p-4 lg:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 lg:p-3 bg-cyan-100 rounded-lg",children:u.jsx(ac,{className:"text-cyan-600",size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-base lg:text-lg font-semibold",children:"Customer Feedback"}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:"Private messages from customers"})]})]}),u.jsx("button",{className:"text-cyan-600 text-xs lg:text-sm hover:text-cyan-700 transition-colors",children:"View All"})]}),u.jsx("div",{className:"space-y-3 lg:space-y-4 max-h-64 overflow-y-auto",children:E.map(N=>u.jsxs("div",{className:"white-card-secondary rounded-lg p-3 lg:p-4",children:[u.jsx("div",{className:"flex items-start justify-between mb-2",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-cyan-600 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-white text-xs font-bold",children:N.customerName.charAt(0)})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:N.customerName}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(Z=>u.jsx(_o,{size:12,className:`${Z<=N.rating?"text-yellow-400 fill-current":"text-gray-300"}`},Z))}),u.jsx("span",{className:"text-xs text-gray-500",children:N.date})]})]})]})}),N.message&&u.jsx("p",{className:"text-sm text-gray-600 mt-2 pl-11",children:N.message})]},N.id))}),E.length===0&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(ac,{className:"mx-auto mb-4 text-gray-400",size:36}),u.jsx("h3",{className:"text-base lg:text-lg font-semibold mb-2",children:"No feedback yet"}),u.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Customer feedback will appear here"})]})]})]})]}):u.jsx(rv,{isBarOpen:w,onToggleBarStatus:_,promotionsEnabled:g,onTogglePromotions:m}),u.jsx(nv,{onTokenRedeem:W,isValidating:l,validationStatus:c})]})},jx=({barId:t,barName:e,bartenderId:n})=>{const[r,s]=b.useState(""),[i,o]=b.useState(!1),[l,a]=b.useState(null),[c,d]=b.useState(null),[h,p]=b.useState([]),[v,y]=b.useState({tokensRedeemed:0,revenue:0,uniqueCustomers:0}),w=async f=>{if(!(!f||f.length<5)){o(!0),d(null),a(null);try{const x=await Af.redeemTokenCode(f,n);a(x);const k={id:Date.now().toString(),code:f,userInfo:"Customer",drinkName:x.drink_name,originalPrice:x.original_price,discountedPrice:x.discounted_price,tokenType:x.token_type,redeemedAt:new Date().toISOString(),status:"redeemed"};p(j=>[k,...j.slice(0,9)]),_(),s(""),navigator.vibrate&&navigator.vibrate([100,50,100])}catch(x){d(x instanceof Error?x.message:"Failed to validate token")}finally{o(!1)}}},_=()=>{y(f=>({tokensRedeemed:f.tokensRedeemed+1,revenue:f.revenue+((l==null?void 0:l.discounted_price)||0),uniqueCustomers:f.uniqueCustomers+1}))},g=()=>{r.length>=5&&w(r)},m=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Voice recognition not supported in this browser");return}const f=window.SpeechRecognition||window.webkitSpeechRecognition,x=new f;x.continuous=!1,x.interimResults=!1,x.lang="en-US",x.onresult=k=>{const E=k.results[0][0].transcript.match(/([A-Z0-9]{5,8})/i);if(E){const P=E[0].toUpperCase();s(P),w(P)}},x.start()};return b.useEffect(()=>{if(l){const f=setTimeout(()=>{a(null)},5e3);return()=>clearTimeout(f)}},[l]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"glass-primary rounded-xl p-6 mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-gradient-to-r from-[#5BC0CE] to-[#6FFFE9] p-3 rounded-xl",children:u.jsx(g0,{className:"text-black",size:24})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:e}),u.jsx("p",{className:"text-[#D0D8E0]",children:"Bartender Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[u.jsx(v0,{className:"text-[#5BC0CE]",size:16}),u.jsx("span",{className:"text-sm text-[#D0D8E0]",children:"Today's Redemptions"})]}),u.jsx("p",{className:"text-2xl font-bold text-[#5BC0CE]",children:v.tokensRedeemed})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[u.jsx(fi,{className:"text-[#6FFFE9]",size:16}),u.jsx("span",{className:"text-sm text-[#D0D8E0]",children:"Revenue"})]}),u.jsxs("p",{className:"text-2xl font-bold text-[#6FFFE9]",children:["€",v.revenue.toFixed(2)]})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"glass-primary rounded-xl p-6 border border-gray-700/50",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-[#5BC0CE] to-[#6FFFE9] p-2 rounded-lg",children:u.jsx(Cl,{className:"text-black",size:20})}),u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Token Validation"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-[#D0D8E0] mb-3",children:"Enter Customer Token Code"}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("input",{type:"text",value:r,onChange:f=>s(f.target.value.toUpperCase()),placeholder:"e.g., 123456",className:"flex-1 bg-gray-800/50 border border-gray-600 rounded-xl px-4 py-4 text-white placeholder-gray-400 focus:border-[#5BC0CE] focus:ring-1 focus:ring-[#5BC0CE] transition-all font-mono text-lg text-center",maxLength:6,disabled:i}),u.jsx("button",{onClick:m,className:"px-4 py-4 bg-gray-800/50 hover:bg-gray-700/50 border border-gray-600 rounded-xl transition-all hover:border-[#5BC0CE]",title:"Voice input",children:u.jsx(qr,{size:20})})]}),u.jsxs("p",{className:"text-xs text-[#D0D8E0] mt-2 text-center",children:[r.length,"/6 characters"]})]}),u.jsx("button",{onClick:g,disabled:r.length<5||i,className:"w-full bg-gradient-to-r from-[#5BC0CE] to-[#6FFFE9] hover:from-[#6FFFE9] hover:to-[#5BC0CE] text-black py-4 rounded-xl font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105",children:i?u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}),u.jsx("span",{children:"Validating..."})]}):"Validate Token"}),c&&u.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(hi,{className:"text-red-500",size:20}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-red-500 mb-1",children:"Validation Failed"}),u.jsx("p",{className:"text-sm text-[#D0D8E0]",children:c})]})]})}),l&&u.jsx("div",{className:"bg-[#6FFFE9]/20 border border-[#6FFFE9]/30 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(Cl,{className:"text-[#6FFFE9]",size:20}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-[#6FFFE9] mb-1",children:"Token Validated!"}),u.jsxs("div",{className:"space-y-2 text-sm text-[#D0D8E0]",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Drink:"})," ",l.drink_name]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Original Price:"})," €",l.original_price]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Discounted Price:"})," €",l.discounted_price]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Token Type:"})," ",l.token_type]})]})]})]})})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"glass-primary rounded-xl p-6 border border-gray-700/50",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[u.jsx(Ai,{className:"mr-2 text-[#6FFFE9]",size:20}),"Today's Stats"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#D0D8E0]",children:"Tokens Redeemed"}),u.jsx("span",{className:"font-bold text-[#5BC0CE]",children:v.tokensRedeemed})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#D0D8E0]",children:"Revenue"}),u.jsxs("span",{className:"font-bold text-[#6FFFE9]",children:["€",v.revenue.toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-[#D0D8E0]",children:"Unique Customers"}),u.jsx("span",{className:"font-bold text-[#5BC0CE]",children:v.uniqueCustomers})]})]})]}),u.jsxs("div",{className:"glass-primary rounded-xl p-6 border border-gray-700/50",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[u.jsx(sn,{className:"mr-2 text-[#6FFFE9]",size:20}),"Recent Redemptions"]}),u.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:h.length===0?u.jsx("p",{className:"text-[#D0D8E0] text-sm text-center py-4",children:"No recent redemptions"}):h.map(f=>u.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-mono text-sm text-[#5BC0CE]",children:f.code}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f.tokenType==="daily"?"bg-[#5BC0CE]/20 text-[#5BC0CE]":"bg-[#6FFFE9]/20 text-[#6FFFE9]"}`,children:f.tokenType})]}),u.jsxs("div",{className:"text-xs text-[#D0D8E0] space-y-1",children:[u.jsx("p",{children:f.drinkName}),u.jsxs("p",{children:["€",f.originalPrice," → €",f.discountedPrice]})]})]},f.id))})]})]})]})]})})},Ex=()=>u.jsx(jx,{barId:"1",barName:"Control Club",bartenderId:"bartender_123"});function bx(){const[t,e]=b.useState("bar_owner"),n=r=>{e(r)};return u.jsx("div",{className:"bar-dashboard",children:u.jsx(N0,{onSetUserRole:n,children:u.jsxs(n0,{children:[u.jsx(vn,{path:"/",element:u.jsx(Sx,{})}),u.jsx(vn,{path:"/token-dashboard",element:u.jsx(Ex,{})}),u.jsx(vn,{path:"/campaigns",element:u.jsx("div",{children:"Campaigns Page"})}),u.jsx(vn,{path:"/events",element:u.jsx("div",{children:"Events Page"})}),u.jsx(vn,{path:"/analytics",element:u.jsx("div",{children:"Analytics Page"})})]})})})}Oo.createRoot(document.getElementById("root")).render(u.jsx(xe.StrictMode,{children:u.jsx(u0,{children:u.jsx(bx,{})})}));
